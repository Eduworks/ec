<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>kbac.skyrepo/src/main/java/org/cassproject/kbac/SkyRepo.java - EC Library</title>
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/yui/3.18.0/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div class="yui3-g">
        <div id="sidebar" class="yui3-u">
            <div class="logo">
              <a href="../index.html">
                  <img src="http://eduworks.com/img/eduworks-ring-e.png">
              </a>
            </div>
            
            <div id="modules" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Modules</h2>
                </div>
                <div class="bd">
                    <ul>
                            <li><a href="../modules/com.eduworks.html">com.eduworks</a>
                            </li>
                            <li><a href="../modules/com.eduworks.ec.html">com.eduworks.ec</a>
                            </li>
                            <li><a href="../modules/com.eduworks.ec.ui.html">com.eduworks.ec.ui</a>
                            </li>
                            <li><a href="../modules/org.cassproject.html">org.cassproject</a>
                            </li>
                            <li><a href="../modules/org.credentialengine.html">org.credentialengine</a>
                            </li>
                            <li><a href="../modules/org.json.ld.html">org.json.ld</a>
                            </li>
                            <li><a href="../modules/org.schema.html">org.schema</a>
                            </li>
                            <li><a href="../modules/org.w3.skos.html">org.w3.skos</a>
                            </li>
                    </ul>
                </div>
            </div>
            
            <div id="classes" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Classes</h2>
                </div>
                <div class="bd">
                    <ul>
                            <li><a href="../classes/AboutPage.html">AboutPage</a></li>
                            <li><a href="../classes/AcceptAction.html">AcceptAction</a></li>
                            <li><a href="../classes/Accommodation.html">Accommodation</a></li>
                            <li><a href="../classes/AccountingService.html">AccountingService</a></li>
                            <li><a href="../classes/AccreditAction.html">AccreditAction</a></li>
                            <li><a href="../classes/AchieveAction.html">AchieveAction</a></li>
                            <li><a href="../classes/Action.html">Action</a></li>
                            <li><a href="../classes/ActionStatusType.html">ActionStatusType</a></li>
                            <li><a href="../classes/ActivateAction.html">ActivateAction</a></li>
                            <li><a href="../classes/AddAction.html">AddAction</a></li>
                            <li><a href="../classes/AdministrativeArea.html">AdministrativeArea</a></li>
                            <li><a href="../classes/AdultEntertainment.html">AdultEntertainment</a></li>
                            <li><a href="../classes/AdvancedStandingAction.html">AdvancedStandingAction</a></li>
                            <li><a href="../classes/Agent.html">Agent</a></li>
                            <li><a href="../classes/AggregateOffer.html">AggregateOffer</a></li>
                            <li><a href="../classes/AggregateRating.html">AggregateRating</a></li>
                            <li><a href="../classes/AgreeAction.html">AgreeAction</a></li>
                            <li><a href="../classes/Airline.html">Airline</a></li>
                            <li><a href="../classes/Airport.html">Airport</a></li>
                            <li><a href="../classes/AlignmentObject.html">AlignmentObject</a></li>
                            <li><a href="../classes/AllocateAction.html">AllocateAction</a></li>
                            <li><a href="../classes/AmusementPark.html">AmusementPark</a></li>
                            <li><a href="../classes/AnimalShelter.html">AnimalShelter</a></li>
                            <li><a href="../classes/Answer.html">Answer</a></li>
                            <li><a href="../classes/Apartment.html">Apartment</a></li>
                            <li><a href="../classes/ApartmentComplex.html">ApartmentComplex</a></li>
                            <li><a href="../classes/APIReference.html">APIReference</a></li>
                            <li><a href="../classes/AppendAction.html">AppendAction</a></li>
                            <li><a href="../classes/ApplyAction.html">ApplyAction</a></li>
                            <li><a href="../classes/ApprenticeshipCertificate.html">ApprenticeshipCertificate</a></li>
                            <li><a href="../classes/ApproveAction.html">ApproveAction</a></li>
                            <li><a href="../classes/Aquarium.html">Aquarium</a></li>
                            <li><a href="../classes/ArriveAction.html">ArriveAction</a></li>
                            <li><a href="../classes/ArtGallery.html">ArtGallery</a></li>
                            <li><a href="../classes/Article.html">Article</a></li>
                            <li><a href="../classes/AskAction.html">AskAction</a></li>
                            <li><a href="../classes/ASNImport.html">ASNImport</a></li>
                            <li><a href="../classes/Assertion.html">Assertion</a></li>
                            <li><a href="../classes/AssertionEnvelope.html">AssertionEnvelope</a></li>
                            <li><a href="../classes/AssertionProcessor.html">AssertionProcessor</a></li>
                            <li><a href="../classes/AssessAction.html">AssessAction</a></li>
                            <li><a href="../classes/Assessment.html">Assessment</a></li>
                            <li><a href="../classes/AssessmentProfile.html">AssessmentProfile</a></li>
                            <li><a href="../classes/AssignAction.html">AssignAction</a></li>
                            <li><a href="../classes/AssociateDegree.html">AssociateDegree</a></li>
                            <li><a href="../classes/Attitude.html">Attitude</a></li>
                            <li><a href="../classes/Attorney.html">Attorney</a></li>
                            <li><a href="../classes/Audience.html">Audience</a></li>
                            <li><a href="../classes/AudioObject.html">AudioObject</a></li>
                            <li><a href="../classes/AuthorizeAction.html">AuthorizeAction</a></li>
                            <li><a href="../classes/AutoBodyShop.html">AutoBodyShop</a></li>
                            <li><a href="../classes/AutoDealer.html">AutoDealer</a></li>
                            <li><a href="../classes/AutomatedTeller.html">AutomatedTeller</a></li>
                            <li><a href="../classes/AutomotiveBusiness.html">AutomotiveBusiness</a></li>
                            <li><a href="../classes/AutoPartsStore.html">AutoPartsStore</a></li>
                            <li><a href="../classes/AutoRental.html">AutoRental</a></li>
                            <li><a href="../classes/AutoRepair.html">AutoRepair</a></li>
                            <li><a href="../classes/AutoWash.html">AutoWash</a></li>
                            <li><a href="../classes/BachelorDegree.html">BachelorDegree</a></li>
                            <li><a href="../classes/Badge.html">Badge</a></li>
                            <li><a href="../classes/Bakery.html">Bakery</a></li>
                            <li><a href="../classes/BankAccount.html">BankAccount</a></li>
                            <li><a href="../classes/BankOrCreditUnion.html">BankOrCreditUnion</a></li>
                            <li><a href="../classes/Barcode.html">Barcode</a></li>
                            <li><a href="../classes/BarOrPub.html">BarOrPub</a></li>
                            <li><a href="../classes/Beach.html">Beach</a></li>
                            <li><a href="../classes/BeautySalon.html">BeautySalon</a></li>
                            <li><a href="../classes/BedAndBreakfast.html">BedAndBreakfast</a></li>
                            <li><a href="../classes/BedDetails.html">BedDetails</a></li>
                            <li><a href="../classes/BefriendAction.html">BefriendAction</a></li>
                            <li><a href="../classes/Belief.html">Belief</a></li>
                            <li><a href="../classes/BikeStore.html">BikeStore</a></li>
                            <li><a href="../classes/Blog.html">Blog</a></li>
                            <li><a href="../classes/BlogPosting.html">BlogPosting</a></li>
                            <li><a href="../classes/BoardingPolicyType.html">BoardingPolicyType</a></li>
                            <li><a href="../classes/BodyOfWater.html">BodyOfWater</a></li>
                            <li><a href="../classes/Book.html">Book</a></li>
                            <li><a href="../classes/BookFormatType.html">BookFormatType</a></li>
                            <li><a href="../classes/BookmarkAction.html">BookmarkAction</a></li>
                            <li><a href="../classes/BookSeries.html">BookSeries</a></li>
                            <li><a href="../classes/BookStore.html">BookStore</a></li>
                            <li><a href="../classes/BorrowAction.html">BorrowAction</a></li>
                            <li><a href="../classes/BowlingAlley.html">BowlingAlley</a></li>
                            <li><a href="../classes/Brand.html">Brand</a></li>
                            <li><a href="../classes/BreadcrumbList.html">BreadcrumbList</a></li>
                            <li><a href="../classes/Brewery.html">Brewery</a></li>
                            <li><a href="../classes/Bridge.html">Bridge</a></li>
                            <li><a href="../classes/BroadcastChannel.html">BroadcastChannel</a></li>
                            <li><a href="../classes/BroadcastEvent.html">BroadcastEvent</a></li>
                            <li><a href="../classes/BroadcastService.html">BroadcastService</a></li>
                            <li><a href="../classes/BuddhistTemple.html">BuddhistTemple</a></li>
                            <li><a href="../classes/BusinessAudience.html">BusinessAudience</a></li>
                            <li><a href="../classes/BusinessEntityType.html">BusinessEntityType</a></li>
                            <li><a href="../classes/BusinessEvent.html">BusinessEvent</a></li>
                            <li><a href="../classes/BusinessFunction.html">BusinessFunction</a></li>
                            <li><a href="../classes/BusReservation.html">BusReservation</a></li>
                            <li><a href="../classes/BusStation.html">BusStation</a></li>
                            <li><a href="../classes/BusStop.html">BusStop</a></li>
                            <li><a href="../classes/BusTrip.html">BusTrip</a></li>
                            <li><a href="../classes/BuyAction.html">BuyAction</a></li>
                            <li><a href="../classes/CableOrSatelliteService.html">CableOrSatelliteService</a></li>
                            <li><a href="../classes/CafeOrCoffeeShop.html">CafeOrCoffeeShop</a></li>
                            <li><a href="../classes/Campground.html">Campground</a></li>
                            <li><a href="../classes/CampingPitch.html">CampingPitch</a></li>
                            <li><a href="../classes/Canal.html">Canal</a></li>
                            <li><a href="../classes/CancelAction.html">CancelAction</a></li>
                            <li><a href="../classes/Car.html">Car</a></li>
                            <li><a href="../classes/CareerPathway.html">CareerPathway</a></li>
                            <li><a href="../classes/Casino.html">Casino</a></li>
                            <li><a href="../classes/Cass.html">Cass</a></li>
                            <li><a href="../classes/CatholicChurch.html">CatholicChurch</a></li>
                            <li><a href="../classes/Cemetery.html">Cemetery</a></li>
                            <li><a href="../classes/Certificate.html">Certificate</a></li>
                            <li><a href="../classes/Certification.html">Certification</a></li>
                            <li><a href="../classes/CfdAssessment.html">CfdAssessment</a></li>
                            <li><a href="../classes/CfdReference.html">CfdReference</a></li>
                            <li><a href="../classes/CheckAction.html">CheckAction</a></li>
                            <li><a href="../classes/CheckInAction.html">CheckInAction</a></li>
                            <li><a href="../classes/CheckOutAction.html">CheckOutAction</a></li>
                            <li><a href="../classes/CheckoutPage.html">CheckoutPage</a></li>
                            <li><a href="../classes/ChildCare.html">ChildCare</a></li>
                            <li><a href="../classes/ChildrensEvent.html">ChildrensEvent</a></li>
                            <li><a href="../classes/ChooseAction.html">ChooseAction</a></li>
                            <li><a href="../classes/Church.html">Church</a></li>
                            <li><a href="../classes/City.html">City</a></li>
                            <li><a href="../classes/CityHall.html">CityHall</a></li>
                            <li><a href="../classes/CivicStructure.html">CivicStructure</a></li>
                            <li><a href="../classes/ClaimReview.html">ClaimReview</a></li>
                            <li><a href="../classes/Clip.html">Clip</a></li>
                            <li><a href="../classes/ClothingStore.html">ClothingStore</a></li>
                            <li><a href="../classes/Code.html">Code</a></li>
                            <li><a href="../classes/Collection.html">Collection</a></li>
                            <li><a href="../classes/CollectionPage.html">CollectionPage</a></li>
                            <li><a href="../classes/CollegeOrUniversity.html">CollegeOrUniversity</a></li>
                            <li><a href="../classes/ComedyClub.html">ComedyClub</a></li>
                            <li><a href="../classes/ComedyEvent.html">ComedyEvent</a></li>
                            <li><a href="../classes/Comment.html">Comment</a></li>
                            <li><a href="../classes/CommentAction.html">CommentAction</a></li>
                            <li><a href="../classes/CommunicateAction.html">CommunicateAction</a></li>
                            <li><a href="../classes/Competency.html">Competency</a></li>
                            <li><a href="../classes/CompetencyFramework.html">CompetencyFramework</a></li>
                            <li><a href="../classes/CompoundPriceSpecification.html">CompoundPriceSpecification</a></li>
                            <li><a href="../classes/ComputerLanguage.html">ComputerLanguage</a></li>
                            <li><a href="../classes/ComputerStore.html">ComputerStore</a></li>
                            <li><a href="../classes/Concept.html">Concept</a></li>
                            <li><a href="../classes/ConceptScheme.html">ConceptScheme</a></li>
                            <li><a href="../classes/ConditionManifest.html">ConditionManifest</a></li>
                            <li><a href="../classes/ConditionProfile.html">ConditionProfile</a></li>
                            <li><a href="../classes/ConfirmAction.html">ConfirmAction</a></li>
                            <li><a href="../classes/ConsumeAction.html">ConsumeAction</a></li>
                            <li><a href="../classes/ContactPage.html">ContactPage</a></li>
                            <li><a href="../classes/ContactPoint.html">ContactPoint</a></li>
                            <li><a href="../classes/ContactPointOption.html">ContactPointOption</a></li>
                            <li><a href="../classes/Continent.html">Continent</a></li>
                            <li><a href="../classes/ControlAction.html">ControlAction</a></li>
                            <li><a href="../classes/ConvenienceStore.html">ConvenienceStore</a></li>
                            <li><a href="../classes/Conversation.html">Conversation</a></li>
                            <li><a href="../classes/CookAction.html">CookAction</a></li>
                            <li><a href="../classes/Corporation.html">Corporation</a></li>
                            <li><a href="../classes/CostManifest.html">CostManifest</a></li>
                            <li><a href="../classes/CostProfile.html">CostProfile</a></li>
                            <li><a href="../classes/Country.html">Country</a></li>
                            <li><a href="../classes/Course.html">Course</a></li>
                            <li><a href="../classes/CourseInstance.html">CourseInstance</a></li>
                            <li><a href="../classes/Courthouse.html">Courthouse</a></li>
                            <li><a href="../classes/CreateAction.html">CreateAction</a></li>
                            <li><a href="../classes/CreativeWork.html">CreativeWork</a></li>
                            <li><a href="../classes/CreativeWorkSeason.html">CreativeWorkSeason</a></li>
                            <li><a href="../classes/CreativeWorkSeries.html">CreativeWorkSeries</a></li>
                            <li><a href="../classes/Credential.html">Credential</a></li>
                            <li><a href="../classes/CredentialAlignmentObject.html">CredentialAlignmentObject</a></li>
                            <li><a href="../classes/CredentialAssertion.html">CredentialAssertion</a></li>
                            <li><a href="../classes/CredentialCompetencyLocator.html">CredentialCompetencyLocator</a></li>
                            <li><a href="../classes/CredentialFramework.html">CredentialFramework</a></li>
                            <li><a href="../classes/CredentialingAction.html">CredentialingAction</a></li>
                            <li><a href="../classes/CredentialOrganization.html">CredentialOrganization</a></li>
                            <li><a href="../classes/CredentialPerson.html">CredentialPerson</a></li>
                            <li><a href="../classes/CreditCard.html">CreditCard</a></li>
                            <li><a href="../classes/Crematorium.html">Crematorium</a></li>
                            <li><a href="../classes/CSVExport.html">CSVExport</a></li>
                            <li><a href="../classes/CSVImport.html">CSVImport</a></li>
                            <li><a href="../classes/CurrencyConversionService.html">CurrencyConversionService</a></li>
                            <li><a href="../classes/DanceEvent.html">DanceEvent</a></li>
                            <li><a href="../classes/DanceGroup.html">DanceGroup</a></li>
                            <li><a href="../classes/DataCatalog.html">DataCatalog</a></li>
                            <li><a href="../classes/DataDownload.html">DataDownload</a></li>
                            <li><a href="../classes/DataFeed.html">DataFeed</a></li>
                            <li><a href="../classes/DataFeedItem.html">DataFeedItem</a></li>
                            <li><a href="../classes/Dataset.html">Dataset</a></li>
                            <li><a href="../classes/DatedMoneySpecification.html">DatedMoneySpecification</a></li>
                            <li><a href="../classes/DayOfWeek.html">DayOfWeek</a></li>
                            <li><a href="../classes/DaySpa.html">DaySpa</a></li>
                            <li><a href="../classes/DeactivateAction.html">DeactivateAction</a></li>
                            <li><a href="../classes/DefenceEstablishment.html">DefenceEstablishment</a></li>
                            <li><a href="../classes/Degree.html">Degree</a></li>
                            <li><a href="../classes/DeleteAction.html">DeleteAction</a></li>
                            <li><a href="../classes/DeliveryChargeSpecification.html">DeliveryChargeSpecification</a></li>
                            <li><a href="../classes/DeliveryEvent.html">DeliveryEvent</a></li>
                            <li><a href="../classes/DeliveryMethod.html">DeliveryMethod</a></li>
                            <li><a href="../classes/Demand.html">Demand</a></li>
                            <li><a href="../classes/Dentist.html">Dentist</a></li>
                            <li><a href="../classes/DepartAction.html">DepartAction</a></li>
                            <li><a href="../classes/DepartmentStore.html">DepartmentStore</a></li>
                            <li><a href="../classes/DepositAccount.html">DepositAccount</a></li>
                            <li><a href="../classes/DigitalBadge.html">DigitalBadge</a></li>
                            <li><a href="../classes/DigitalDocument.html">DigitalDocument</a></li>
                            <li><a href="../classes/DigitalDocumentPermission.html">DigitalDocumentPermission</a></li>
                            <li><a href="../classes/DigitalDocumentPermissionType.html">DigitalDocumentPermissionType</a></li>
                            <li><a href="../classes/Diploma.html">Diploma</a></li>
                            <li><a href="../classes/DisagreeAction.html">DisagreeAction</a></li>
                            <li><a href="../classes/DiscoverAction.html">DiscoverAction</a></li>
                            <li><a href="../classes/DiscussionForumPosting.html">DiscussionForumPosting</a></li>
                            <li><a href="../classes/DislikeAction.html">DislikeAction</a></li>
                            <li><a href="../classes/Distance.html">Distance</a></li>
                            <li><a href="../classes/DoctoralDegree.html">DoctoralDegree</a></li>
                            <li><a href="../classes/DonateAction.html">DonateAction</a></li>
                            <li><a href="../classes/DownloadAction.html">DownloadAction</a></li>
                            <li><a href="../classes/DrawAction.html">DrawAction</a></li>
                            <li><a href="../classes/DrinkAction.html">DrinkAction</a></li>
                            <li><a href="../classes/DriveWheelConfigurationValue.html">DriveWheelConfigurationValue</a></li>
                            <li><a href="../classes/DryCleaningOrLaundry.html">DryCleaningOrLaundry</a></li>
                            <li><a href="../classes/Duration.html">Duration</a></li>
                            <li><a href="../classes/DurationProfile.html">DurationProfile</a></li>
                            <li><a href="../classes/EarningsProfile.html">EarningsProfile</a></li>
                            <li><a href="../classes/EatAction.html">EatAction</a></li>
                            <li><a href="../classes/Ebac.html">Ebac</a></li>
                            <li><a href="../classes/EbacContact.html">EbacContact</a></li>
                            <li><a href="../classes/EbacContactGrant.html">EbacContactGrant</a></li>
                            <li><a href="../classes/EbacCredential.html">EbacCredential</a></li>
                            <li><a href="../classes/EbacCredentialCommit.html">EbacCredentialCommit</a></li>
                            <li><a href="../classes/EbacCredentialRequest.html">EbacCredentialRequest</a></li>
                            <li><a href="../classes/EbacCredentials.html">EbacCredentials</a></li>
                            <li><a href="../classes/EbacEncryptedSecret.html">EbacEncryptedSecret</a></li>
                            <li><a href="../classes/EbacEncryptedValue.html">EbacEncryptedValue</a></li>
                            <li><a href="../classes/EbacSignature.html">EbacSignature</a></li>
                            <li><a href="../classes/EcAes.html">EcAes</a></li>
                            <li><a href="../classes/EcAesCtr.html">EcAesCtr</a></li>
                            <li><a href="../classes/EcAesCtrAsync.html">EcAesCtrAsync</a></li>
                            <li><a href="../classes/EcAlignment.html">EcAlignment</a></li>
                            <li><a href="../classes/EcArray.html">EcArray</a></li>
                            <li><a href="../classes/EcAsyncHelper.html">EcAsyncHelper</a></li>
                            <li><a href="../classes/EcCompetency.html">EcCompetency</a></li>
                            <li><a href="../classes/EcContact.html">EcContact</a></li>
                            <li><a href="../classes/EcDirectedGraph.html">EcDirectedGraph</a></li>
                            <li><a href="../classes/EcEncryptedValue.html">EcEncryptedValue</a></li>
                            <li><a href="../classes/EcFile.html">EcFile</a></li>
                            <li><a href="../classes/EcFramework.html">EcFramework</a></li>
                            <li><a href="../classes/EcIdentity.html">EcIdentity</a></li>
                            <li><a href="../classes/EcIdentityManager.html">EcIdentityManager</a></li>
                            <li><a href="../classes/EcLevel.html">EcLevel</a></li>
                            <li><a href="../classes/EcLinkedData.html">EcLinkedData</a></li>
                            <li><a href="../classes/EcModal.html">EcModal</a></li>
                            <li><a href="../classes/EcObject.html">EcObject</a></li>
                            <li><a href="../classes/EcOverlay.html">EcOverlay</a></li>
                            <li><a href="../classes/EcPk.html">EcPk</a></li>
                            <li><a href="../classes/EcPpk.html">EcPpk</a></li>
                            <li><a href="../classes/EcRemote.html">EcRemote</a></li>
                            <li><a href="../classes/EcRemoteIdentityManager.html">EcRemoteIdentityManager</a></li>
                            <li><a href="../classes/EcRemoteLinkedData.html">EcRemoteLinkedData</a></li>
                            <li><a href="../classes/EcRepository.html">EcRepository</a></li>
                            <li><a href="../classes/EcRollupRule.html">EcRollupRule</a></li>
                            <li><a href="../classes/EcRsaOaep.html">EcRsaOaep</a></li>
                            <li><a href="../classes/EcRsaOaepAsync.html">EcRsaOaepAsync</a></li>
                            <li><a href="../classes/EcScreen.html">EcScreen</a></li>
                            <li><a href="../classes/EcView.html">EcView</a></li>
                            <li><a href="../classes/EducationalAudience.html">EducationalAudience</a></li>
                            <li><a href="../classes/EducationalOrganization.html">EducationalOrganization</a></li>
                            <li><a href="../classes/EducationEvent.html">EducationEvent</a></li>
                            <li><a href="../classes/Electrician.html">Electrician</a></li>
                            <li><a href="../classes/ElectronicsStore.html">ElectronicsStore</a></li>
                            <li><a href="../classes/ElementarySchool.html">ElementarySchool</a></li>
                            <li><a href="../classes/EmailMessage.html">EmailMessage</a></li>
                            <li><a href="../classes/Embassy.html">Embassy</a></li>
                            <li><a href="../classes/EmergencyService.html">EmergencyService</a></li>
                            <li><a href="../classes/EmployeeRole.html">EmployeeRole</a></li>
                            <li><a href="../classes/EmploymentAgency.html">EmploymentAgency</a></li>
                            <li><a href="../classes/EmploymentOutcomeProfile.html">EmploymentOutcomeProfile</a></li>
                            <li><a href="../classes/EndorseAction.html">EndorseAction</a></li>
                            <li><a href="../classes/Energy.html">Energy</a></li>
                            <li><a href="../classes/EngineSpecification.html">EngineSpecification</a></li>
                            <li><a href="../classes/EntertainmentBusiness.html">EntertainmentBusiness</a></li>
                            <li><a href="../classes/EntryPoint.html">EntryPoint</a></li>
                            <li><a href="../classes/Enumeration.html">Enumeration</a></li>
                            <li><a href="../classes/Episode.html">Episode</a></li>
                            <li><a href="../classes/Event.html">Event</a></li>
                            <li><a href="../classes/EventReservation.html">EventReservation</a></li>
                            <li><a href="../classes/EventStatusType.html">EventStatusType</a></li>
                            <li><a href="../classes/EventVenue.html">EventVenue</a></li>
                            <li><a href="../classes/ExerciseAction.html">ExerciseAction</a></li>
                            <li><a href="../classes/ExerciseGym.html">ExerciseGym</a></li>
                            <li><a href="../classes/ExhibitionEvent.html">ExhibitionEvent</a></li>
                            <li><a href="../classes/Exporter.html">Exporter</a></li>
                            <li><a href="../classes/FastFoodRestaurant.html">FastFoodRestaurant</a></li>
                            <li><a href="../classes/Festival.html">Festival</a></li>
                            <li><a href="../classes/FilmAction.html">FilmAction</a></li>
                            <li><a href="../classes/FinancialAlignmentObject.html">FinancialAlignmentObject</a></li>
                            <li><a href="../classes/FinancialProduct.html">FinancialProduct</a></li>
                            <li><a href="../classes/FinancialService.html">FinancialService</a></li>
                            <li><a href="../classes/FindAction.html">FindAction</a></li>
                            <li><a href="../classes/FireStation.html">FireStation</a></li>
                            <li><a href="../classes/Flight.html">Flight</a></li>
                            <li><a href="../classes/FlightReservation.html">FlightReservation</a></li>
                            <li><a href="../classes/Florist.html">Florist</a></li>
                            <li><a href="../classes/FollowAction.html">FollowAction</a></li>
                            <li><a href="../classes/FoodEstablishment.html">FoodEstablishment</a></li>
                            <li><a href="../classes/FoodEstablishmentReservation.html">FoodEstablishmentReservation</a></li>
                            <li><a href="../classes/FoodEvent.html">FoodEvent</a></li>
                            <li><a href="../classes/FoodService.html">FoodService</a></li>
                            <li><a href="../classes/Framework.html">Framework</a></li>
                            <li><a href="../classes/FrameworkImport.html">FrameworkImport</a></li>
                            <li><a href="../classes/FurnitureStore.html">FurnitureStore</a></li>
                            <li><a href="../classes/Game.html">Game</a></li>
                            <li><a href="../classes/GamePlayMode.html">GamePlayMode</a></li>
                            <li><a href="../classes/GameServer.html">GameServer</a></li>
                            <li><a href="../classes/GameServerStatus.html">GameServerStatus</a></li>
                            <li><a href="../classes/GardenStore.html">GardenStore</a></li>
                            <li><a href="../classes/GasStation.html">GasStation</a></li>
                            <li><a href="../classes/GatedResidenceCommunity.html">GatedResidenceCommunity</a></li>
                            <li><a href="../classes/GenderType.html">GenderType</a></li>
                            <li><a href="../classes/General.html">General</a></li>
                            <li><a href="../classes/GeneralContractor.html">GeneralContractor</a></li>
                            <li><a href="../classes/GeneralEducationDevelopment.html">GeneralEducationDevelopment</a></li>
                            <li><a href="../classes/GeneralFile.html">GeneralFile</a></li>
                            <li><a href="../classes/GeoCircle.html">GeoCircle</a></li>
                            <li><a href="../classes/GeoCoordinates.html">GeoCoordinates</a></li>
                            <li><a href="../classes/GeoShape.html">GeoShape</a></li>
                            <li><a href="../classes/GiveAction.html">GiveAction</a></li>
                            <li><a href="../classes/GolfCourse.html">GolfCourse</a></li>
                            <li><a href="../classes/GovernmentBuilding.html">GovernmentBuilding</a></li>
                            <li><a href="../classes/GovernmentOffice.html">GovernmentOffice</a></li>
                            <li><a href="../classes/GovernmentOrganization.html">GovernmentOrganization</a></li>
                            <li><a href="../classes/GovernmentPermit.html">GovernmentPermit</a></li>
                            <li><a href="../classes/GovernmentService.html">GovernmentService</a></li>
                            <li><a href="../classes/Graph.html">Graph</a></li>
                            <li><a href="../classes/GroceryStore.html">GroceryStore</a></li>
                            <li><a href="../classes/HairSalon.html">HairSalon</a></li>
                            <li><a href="../classes/HardwareStore.html">HardwareStore</a></li>
                            <li><a href="../classes/HealthAndBeautyBusiness.html">HealthAndBeautyBusiness</a></li>
                            <li><a href="../classes/HealthClub.html">HealthClub</a></li>
                            <li><a href="../classes/HighSchool.html">HighSchool</a></li>
                            <li><a href="../classes/HinduTemple.html">HinduTemple</a></li>
                            <li><a href="../classes/HistoryClosure.html">HistoryClosure</a></li>
                            <li><a href="../classes/HobbyShop.html">HobbyShop</a></li>
                            <li><a href="../classes/HoldersProfile.html">HoldersProfile</a></li>
                            <li><a href="../classes/HomeAndConstructionBusiness.html">HomeAndConstructionBusiness</a></li>
                            <li><a href="../classes/HomeGoodsStore.html">HomeGoodsStore</a></li>
                            <li><a href="../classes/Hospital.html">Hospital</a></li>
                            <li><a href="../classes/Hostel.html">Hostel</a></li>
                            <li><a href="../classes/Hotel.html">Hotel</a></li>
                            <li><a href="../classes/HotelRoom.html">HotelRoom</a></li>
                            <li><a href="../classes/House.html">House</a></li>
                            <li><a href="../classes/HousePainter.html">HousePainter</a></li>
                            <li><a href="../classes/HVACBusiness.html">HVACBusiness</a></li>
                            <li><a href="../classes/Hypergraph.html">Hypergraph</a></li>
                            <li><a href="../classes/IceCreamShop.html">IceCreamShop</a></li>
                            <li><a href="../classes/IdentifierValue.html">IdentifierValue</a></li>
                            <li><a href="../classes/IdentifierValueSet.html">IdentifierValueSet</a></li>
                            <li><a href="../classes/IgnoreAction.html">IgnoreAction</a></li>
                            <li><a href="../classes/ImageGallery.html">ImageGallery</a></li>
                            <li><a href="../classes/ImageObject.html">ImageObject</a></li>
                            <li><a href="../classes/Importer.html">Importer</a></li>
                            <li><a href="../classes/IndividualProduct.html">IndividualProduct</a></li>
                            <li><a href="../classes/IndustryClassification.html">IndustryClassification</a></li>
                            <li><a href="../classes/InformAction.html">InformAction</a></li>
                            <li><a href="../classes/InquiryPacket.html">InquiryPacket</a></li>
                            <li><a href="../classes/InsertAction.html">InsertAction</a></li>
                            <li><a href="../classes/InstallAction.html">InstallAction</a></li>
                            <li><a href="../classes/InstructionalProgramClassification.html">InstructionalProgramClassification</a></li>
                            <li><a href="../classes/InsuranceAgency.html">InsuranceAgency</a></li>
                            <li><a href="../classes/Intangible.html">Intangible</a></li>
                            <li><a href="../classes/InteractAction.html">InteractAction</a></li>
                            <li><a href="../classes/InteractionCounter.html">InteractionCounter</a></li>
                            <li><a href="../classes/InternetCafe.html">InternetCafe</a></li>
                            <li><a href="../classes/InvestmentOrDeposit.html">InvestmentOrDeposit</a></li>
                            <li><a href="../classes/InviteAction.html">InviteAction</a></li>
                            <li><a href="../classes/Invoice.html">Invoice</a></li>
                            <li><a href="../classes/ItemAvailability.html">ItemAvailability</a></li>
                            <li><a href="../classes/ItemList.html">ItemList</a></li>
                            <li><a href="../classes/ItemListOrderType.html">ItemListOrderType</a></li>
                            <li><a href="../classes/ItemPage.html">ItemPage</a></li>
                            <li><a href="../classes/JewelryStore.html">JewelryStore</a></li>
                            <li><a href="../classes/JobPosting.html">JobPosting</a></li>
                            <li><a href="../classes/JoinAction.html">JoinAction</a></li>
                            <li><a href="../classes/JourneymanCertificate.html">JourneymanCertificate</a></li>
                            <li><a href="../classes/JurisdictionProfile.html">JurisdictionProfile</a></li>
                            <li><a href="../classes/Knowledge.html">Knowledge</a></li>
                            <li><a href="../classes/LakeBodyOfWater.html">LakeBodyOfWater</a></li>
                            <li><a href="../classes/Landform.html">Landform</a></li>
                            <li><a href="../classes/LandmarksOrHistoricalBuildings.html">LandmarksOrHistoricalBuildings</a></li>
                            <li><a href="../classes/Language.html">Language</a></li>
                            <li><a href="../classes/LearningOpportunity.html">LearningOpportunity</a></li>
                            <li><a href="../classes/LearningOpportunityProfile.html">LearningOpportunityProfile</a></li>
                            <li><a href="../classes/LearningResource.html">LearningResource</a></li>
                            <li><a href="../classes/LeaveAction.html">LeaveAction</a></li>
                            <li><a href="../classes/LegalService.html">LegalService</a></li>
                            <li><a href="../classes/LegislativeBuilding.html">LegislativeBuilding</a></li>
                            <li><a href="../classes/LendAction.html">LendAction</a></li>
                            <li><a href="../classes/Level.html">Level</a></li>
                            <li><a href="../classes/Library.html">Library</a></li>
                            <li><a href="../classes/License.html">License</a></li>
                            <li><a href="../classes/LikeAction.html">LikeAction</a></li>
                            <li><a href="../classes/LiquorStore.html">LiquorStore</a></li>
                            <li><a href="../classes/ListenAction.html">ListenAction</a></li>
                            <li><a href="../classes/ListItem.html">ListItem</a></li>
                            <li><a href="../classes/LiteraryEvent.html">LiteraryEvent</a></li>
                            <li><a href="../classes/LiveBlogPosting.html">LiveBlogPosting</a></li>
                            <li><a href="../classes/LoanOrCredit.html">LoanOrCredit</a></li>
                            <li><a href="../classes/LocalBusiness.html">LocalBusiness</a></li>
                            <li><a href="../classes/LocationFeatureSpecification.html">LocationFeatureSpecification</a></li>
                            <li><a href="../classes/LockerDelivery.html">LockerDelivery</a></li>
                            <li><a href="../classes/Locksmith.html">Locksmith</a></li>
                            <li><a href="../classes/LodgingBusiness.html">LodgingBusiness</a></li>
                            <li><a href="../classes/LodgingReservation.html">LodgingReservation</a></li>
                            <li><a href="../classes/LoseAction.html">LoseAction</a></li>
                            <li><a href="../classes/Map.html">Map</a></li>
                            <li><a href="../classes/MapCategoryType.html">MapCategoryType</a></li>
                            <li><a href="../classes/MarryAction.html">MarryAction</a></li>
                            <li><a href="../classes/Mass.html">Mass</a></li>
                            <li><a href="../classes/MasterCertificate.html">MasterCertificate</a></li>
                            <li><a href="../classes/MasterDegree.html">MasterDegree</a></li>
                            <li><a href="../classes/MedbiqImport.html">MedbiqImport</a></li>
                            <li><a href="../classes/MediaObject.html">MediaObject</a></li>
                            <li><a href="../classes/MedicalOrganization.html">MedicalOrganization</a></li>
                            <li><a href="../classes/MeetingRoom.html">MeetingRoom</a></li>
                            <li><a href="../classes/MensClothingStore.html">MensClothingStore</a></li>
                            <li><a href="../classes/Menu.html">Menu</a></li>
                            <li><a href="../classes/MenuItem.html">MenuItem</a></li>
                            <li><a href="../classes/MenuSection.html">MenuSection</a></li>
                            <li><a href="../classes/Message.html">Message</a></li>
                            <li><a href="../classes/MicroCredential.html">MicroCredential</a></li>
                            <li><a href="../classes/MiddleSchool.html">MiddleSchool</a></li>
                            <li><a href="../classes/MobileApplication.html">MobileApplication</a></li>
                            <li><a href="../classes/MobilePhoneStore.html">MobilePhoneStore</a></li>
                            <li><a href="../classes/ModalManager.html">ModalManager</a></li>
                            <li><a href="../classes/MonetaryAmount.html">MonetaryAmount</a></li>
                            <li><a href="../classes/MoodleConfig.html">MoodleConfig</a></li>
                            <li><a href="../classes/Mosque.html">Mosque</a></li>
                            <li><a href="../classes/Motel.html">Motel</a></li>
                            <li><a href="../classes/MotorcycleDealer.html">MotorcycleDealer</a></li>
                            <li><a href="../classes/MotorcycleRepair.html">MotorcycleRepair</a></li>
                            <li><a href="../classes/Mountain.html">Mountain</a></li>
                            <li><a href="../classes/MoveAction.html">MoveAction</a></li>
                            <li><a href="../classes/Movie.html">Movie</a></li>
                            <li><a href="../classes/MovieClip.html">MovieClip</a></li>
                            <li><a href="../classes/MovieRentalStore.html">MovieRentalStore</a></li>
                            <li><a href="../classes/MovieSeries.html">MovieSeries</a></li>
                            <li><a href="../classes/MovieTheater.html">MovieTheater</a></li>
                            <li><a href="../classes/MovingCompany.html">MovingCompany</a></li>
                            <li><a href="../classes/Museum.html">Museum</a></li>
                            <li><a href="../classes/MusicAlbum.html">MusicAlbum</a></li>
                            <li><a href="../classes/MusicAlbumProductionType.html">MusicAlbumProductionType</a></li>
                            <li><a href="../classes/MusicAlbumReleaseType.html">MusicAlbumReleaseType</a></li>
                            <li><a href="../classes/MusicComposition.html">MusicComposition</a></li>
                            <li><a href="../classes/MusicEvent.html">MusicEvent</a></li>
                            <li><a href="../classes/MusicGroup.html">MusicGroup</a></li>
                            <li><a href="../classes/MusicPlaylist.html">MusicPlaylist</a></li>
                            <li><a href="../classes/MusicRecording.html">MusicRecording</a></li>
                            <li><a href="../classes/MusicRelease.html">MusicRelease</a></li>
                            <li><a href="../classes/MusicReleaseFormatType.html">MusicReleaseFormatType</a></li>
                            <li><a href="../classes/MusicStore.html">MusicStore</a></li>
                            <li><a href="../classes/MusicVenue.html">MusicVenue</a></li>
                            <li><a href="../classes/MusicVideoObject.html">MusicVideoObject</a></li>
                            <li><a href="../classes/NailSalon.html">NailSalon</a></li>
                            <li><a href="../classes/NewsArticle.html">NewsArticle</a></li>
                            <li><a href="../classes/NGO.html">NGO</a></li>
                            <li><a href="../classes/NightClub.html">NightClub</a></li>
                            <li><a href="../classes/Notary.html">Notary</a></li>
                            <li><a href="../classes/NoteDigitalDocument.html">NoteDigitalDocument</a></li>
                            <li><a href="../classes/NutritionInformation.html">NutritionInformation</a></li>
                            <li><a href="../classes/OccupationClassification.html">OccupationClassification</a></li>
                            <li><a href="../classes/OceanBodyOfWater.html">OceanBodyOfWater</a></li>
                            <li><a href="../classes/Offer.html">Offer</a></li>
                            <li><a href="../classes/OfferAction.html">OfferAction</a></li>
                            <li><a href="../classes/OfferCatalog.html">OfferCatalog</a></li>
                            <li><a href="../classes/OfferItemCondition.html">OfferItemCondition</a></li>
                            <li><a href="../classes/OfficeEquipmentStore.html">OfficeEquipmentStore</a></li>
                            <li><a href="../classes/OnDemandEvent.html">OnDemandEvent</a></li>
                            <li><a href="../classes/OpenBadge.html">OpenBadge</a></li>
                            <li><a href="../classes/OpeningHoursSpecification.html">OpeningHoursSpecification</a></li>
                            <li><a href="../classes/Order.html">Order</a></li>
                            <li><a href="../classes/OrderAction.html">OrderAction</a></li>
                            <li><a href="../classes/OrderedCollection.html">OrderedCollection</a></li>
                            <li><a href="../classes/OrderItem.html">OrderItem</a></li>
                            <li><a href="../classes/OrderStatus.html">OrderStatus</a></li>
                            <li><a href="../classes/Organization.html">Organization</a></li>
                            <li><a href="../classes/OrganizationRole.html">OrganizationRole</a></li>
                            <li><a href="../classes/OrganizeAction.html">OrganizeAction</a></li>
                            <li><a href="../classes/OutletStore.html">OutletStore</a></li>
                            <li><a href="../classes/OverlayManager.html">OverlayManager</a></li>
                            <li><a href="../classes/OwnershipInfo.html">OwnershipInfo</a></li>
                            <li><a href="../classes/PaintAction.html">PaintAction</a></li>
                            <li><a href="../classes/Painting.html">Painting</a></li>
                            <li><a href="../classes/ParcelDelivery.html">ParcelDelivery</a></li>
                            <li><a href="../classes/ParcelService.html">ParcelService</a></li>
                            <li><a href="../classes/ParentAudience.html">ParentAudience</a></li>
                            <li><a href="../classes/Park.html">Park</a></li>
                            <li><a href="../classes/ParkingFacility.html">ParkingFacility</a></li>
                            <li><a href="../classes/PawnShop.html">PawnShop</a></li>
                            <li><a href="../classes/PayAction.html">PayAction</a></li>
                            <li><a href="../classes/PaymentCard.html">PaymentCard</a></li>
                            <li><a href="../classes/PaymentChargeSpecification.html">PaymentChargeSpecification</a></li>
                            <li><a href="../classes/PaymentMethod.html">PaymentMethod</a></li>
                            <li><a href="../classes/PaymentService.html">PaymentService</a></li>
                            <li><a href="../classes/PaymentStatusType.html">PaymentStatusType</a></li>
                            <li><a href="../classes/PeopleAudience.html">PeopleAudience</a></li>
                            <li><a href="../classes/PerformAction.html">PerformAction</a></li>
                            <li><a href="../classes/PerformanceRole.html">PerformanceRole</a></li>
                            <li><a href="../classes/PerformingArtsTheater.html">PerformingArtsTheater</a></li>
                            <li><a href="../classes/PerformingGroup.html">PerformingGroup</a></li>
                            <li><a href="../classes/Periodical.html">Periodical</a></li>
                            <li><a href="../classes/Permit.html">Permit</a></li>
                            <li><a href="../classes/Person.html">Person</a></li>
                            <li><a href="../classes/PetStore.html">PetStore</a></li>
                            <li><a href="../classes/Pharmacy.html">Pharmacy</a></li>
                            <li><a href="../classes/Photograph.html">Photograph</a></li>
                            <li><a href="../classes/PhotographAction.html">PhotographAction</a></li>
                            <li><a href="../classes/Physician.html">Physician</a></li>
                            <li><a href="../classes/Place.html">Place</a></li>
                            <li><a href="../classes/PlaceOfWorship.html">PlaceOfWorship</a></li>
                            <li><a href="../classes/PlanAction.html">PlanAction</a></li>
                            <li><a href="../classes/PlayAction.html">PlayAction</a></li>
                            <li><a href="../classes/Playground.html">Playground</a></li>
                            <li><a href="../classes/Plumber.html">Plumber</a></li>
                            <li><a href="../classes/PoliceStation.html">PoliceStation</a></li>
                            <li><a href="../classes/Pond.html">Pond</a></li>
                            <li><a href="../classes/PostalAddress.html">PostalAddress</a></li>
                            <li><a href="../classes/PostOffice.html">PostOffice</a></li>
                            <li><a href="../classes/PrependAction.html">PrependAction</a></li>
                            <li><a href="../classes/Preschool.html">Preschool</a></li>
                            <li><a href="../classes/PresentationDigitalDocument.html">PresentationDigitalDocument</a></li>
                            <li><a href="../classes/PriceSpecification.html">PriceSpecification</a></li>
                            <li><a href="../classes/ProcessProfile.html">ProcessProfile</a></li>
                            <li><a href="../classes/Product.html">Product</a></li>
                            <li><a href="../classes/ProductModel.html">ProductModel</a></li>
                            <li><a href="../classes/ProfessionalDoctorate.html">ProfessionalDoctorate</a></li>
                            <li><a href="../classes/ProfessionalService.html">ProfessionalService</a></li>
                            <li><a href="../classes/ProficiencyScale.html">ProficiencyScale</a></li>
                            <li><a href="../classes/ProfilePage.html">ProfilePage</a></li>
                            <li><a href="../classes/ProgramMembership.html">ProgramMembership</a></li>
                            <li><a href="../classes/PropertyValue.html">PropertyValue</a></li>
                            <li><a href="../classes/PropertyValueSpecification.html">PropertyValueSpecification</a></li>
                            <li><a href="../classes/PublicationEvent.html">PublicationEvent</a></li>
                            <li><a href="../classes/PublicationIssue.html">PublicationIssue</a></li>
                            <li><a href="../classes/PublicationVolume.html">PublicationVolume</a></li>
                            <li><a href="../classes/PublicSwimmingPool.html">PublicSwimmingPool</a></li>
                            <li><a href="../classes/QACredentialOrganization.html">QACredentialOrganization</a></li>
                            <li><a href="../classes/QAPage.html">QAPage</a></li>
                            <li><a href="../classes/QualitativeValue.html">QualitativeValue</a></li>
                            <li><a href="../classes/QualityAssuranceCredential.html">QualityAssuranceCredential</a></li>
                            <li><a href="../classes/QuantitativeValue.html">QuantitativeValue</a></li>
                            <li><a href="../classes/Quantity.html">Quantity</a></li>
                            <li><a href="../classes/Question.html">Question</a></li>
                            <li><a href="../classes/QuoteAction.html">QuoteAction</a></li>
                            <li><a href="../classes/RadioChannel.html">RadioChannel</a></li>
                            <li><a href="../classes/RadioClip.html">RadioClip</a></li>
                            <li><a href="../classes/RadioEpisode.html">RadioEpisode</a></li>
                            <li><a href="../classes/RadioSeason.html">RadioSeason</a></li>
                            <li><a href="../classes/RadioSeries.html">RadioSeries</a></li>
                            <li><a href="../classes/RadioStation.html">RadioStation</a></li>
                            <li><a href="../classes/Rating.html">Rating</a></li>
                            <li><a href="../classes/ReactAction.html">ReactAction</a></li>
                            <li><a href="../classes/ReadAction.html">ReadAction</a></li>
                            <li><a href="../classes/RealEstateAgent.html">RealEstateAgent</a></li>
                            <li><a href="../classes/ReceiveAction.html">ReceiveAction</a></li>
                            <li><a href="../classes/Recipe.html">Recipe</a></li>
                            <li><a href="../classes/RecognizeAction.html">RecognizeAction</a></li>
                            <li><a href="../classes/RecyclingCenter.html">RecyclingCenter</a></li>
                            <li><a href="../classes/RegisterAction.html">RegisterAction</a></li>
                            <li><a href="../classes/RegulateAction.html">RegulateAction</a></li>
                            <li><a href="../classes/RejectAction.html">RejectAction</a></li>
                            <li><a href="../classes/Relation.html">Relation</a></li>
                            <li><a href="../classes/RelationshipPacketGenerator.html">RelationshipPacketGenerator</a></li>
                            <li><a href="../classes/RenewAction.html">RenewAction</a></li>
                            <li><a href="../classes/RentAction.html">RentAction</a></li>
                            <li><a href="../classes/RentalCarReservation.html">RentalCarReservation</a></li>
                            <li><a href="../classes/ReplaceAction.html">ReplaceAction</a></li>
                            <li><a href="../classes/ReplyAction.html">ReplyAction</a></li>
                            <li><a href="../classes/Report.html">Report</a></li>
                            <li><a href="../classes/ResearchDoctorate.html">ResearchDoctorate</a></li>
                            <li><a href="../classes/Reservation.html">Reservation</a></li>
                            <li><a href="../classes/ReservationPackage.html">ReservationPackage</a></li>
                            <li><a href="../classes/ReservationStatusType.html">ReservationStatusType</a></li>
                            <li><a href="../classes/ReserveAction.html">ReserveAction</a></li>
                            <li><a href="../classes/Reservoir.html">Reservoir</a></li>
                            <li><a href="../classes/Residence.html">Residence</a></li>
                            <li><a href="../classes/Resort.html">Resort</a></li>
                            <li><a href="../classes/Restaurant.html">Restaurant</a></li>
                            <li><a href="../classes/RestrictedDiet.html">RestrictedDiet</a></li>
                            <li><a href="../classes/ResumeAction.html">ResumeAction</a></li>
                            <li><a href="../classes/ReturnAction.html">ReturnAction</a></li>
                            <li><a href="../classes/Review.html">Review</a></li>
                            <li><a href="../classes/ReviewAction.html">ReviewAction</a></li>
                            <li><a href="../classes/RevocationProfile.html">RevocationProfile</a></li>
                            <li><a href="../classes/RevokeAction.html">RevokeAction</a></li>
                            <li><a href="../classes/RightsAction.html">RightsAction</a></li>
                            <li><a href="../classes/RiverBodyOfWater.html">RiverBodyOfWater</a></li>
                            <li><a href="../classes/Role.html">Role</a></li>
                            <li><a href="../classes/Rollup.html">Rollup</a></li>
                            <li><a href="../classes/RollupRule.html">RollupRule</a></li>
                            <li><a href="../classes/RoofingContractor.html">RoofingContractor</a></li>
                            <li><a href="../classes/Room.html">Room</a></li>
                            <li><a href="../classes/RsvpAction.html">RsvpAction</a></li>
                            <li><a href="../classes/RsvpResponseType.html">RsvpResponseType</a></li>
                            <li><a href="../classes/RVPark.html">RVPark</a></li>
                            <li><a href="../classes/SaleEvent.html">SaleEvent</a></li>
                            <li><a href="../classes/ScheduleAction.html">ScheduleAction</a></li>
                            <li><a href="../classes/ScholarlyArticle.html">ScholarlyArticle</a></li>
                            <li><a href="../classes/School.html">School</a></li>
                            <li><a href="../classes/ScreeningEvent.html">ScreeningEvent</a></li>
                            <li><a href="../classes/Screenmanager.html">Screenmanager</a></li>
                            <li><a href="../classes/Sculpture.html">Sculpture</a></li>
                            <li><a href="../classes/SeaBodyOfWater.html">SeaBodyOfWater</a></li>
                            <li><a href="../classes/SearchAction.html">SearchAction</a></li>
                            <li><a href="../classes/SearchResultsPage.html">SearchResultsPage</a></li>
                            <li><a href="../classes/Season.html">Season</a></li>
                            <li><a href="../classes/Seat.html">Seat</a></li>
                            <li><a href="../classes/SecondarySchoolDiploma.html">SecondarySchoolDiploma</a></li>
                            <li><a href="../classes/SelfStorage.html">SelfStorage</a></li>
                            <li><a href="../classes/SellAction.html">SellAction</a></li>
                            <li><a href="../classes/SendAction.html">SendAction</a></li>
                            <li><a href="../classes/Series.html">Series</a></li>
                            <li><a href="../classes/Service.html">Service</a></li>
                            <li><a href="../classes/ServiceChannel.html">ServiceChannel</a></li>
                            <li><a href="../classes/ShareAction.html">ShareAction</a></li>
                            <li><a href="../classes/ShoeStore.html">ShoeStore</a></li>
                            <li><a href="../classes/ShoppingCenter.html">ShoppingCenter</a></li>
                            <li><a href="../classes/SingleFamilyResidence.html">SingleFamilyResidence</a></li>
                            <li><a href="../classes/SiteNavigationElement.html">SiteNavigationElement</a></li>
                            <li><a href="../classes/Skill.html">Skill</a></li>
                            <li><a href="../classes/SkiResort.html">SkiResort</a></li>
                            <li><a href="../classes/SocialEvent.html">SocialEvent</a></li>
                            <li><a href="../classes/SocialMediaPosting.html">SocialMediaPosting</a></li>
                            <li><a href="../classes/SoftwareApplication.html">SoftwareApplication</a></li>
                            <li><a href="../classes/SoftwareSourceCode.html">SoftwareSourceCode</a></li>
                            <li><a href="../classes/SomeProducts.html">SomeProducts</a></li>
                            <li><a href="../classes/Specialty.html">Specialty</a></li>
                            <li><a href="../classes/SportingGoodsStore.html">SportingGoodsStore</a></li>
                            <li><a href="../classes/SportsActivityLocation.html">SportsActivityLocation</a></li>
                            <li><a href="../classes/SportsClub.html">SportsClub</a></li>
                            <li><a href="../classes/SportsEvent.html">SportsEvent</a></li>
                            <li><a href="../classes/SportsOrganization.html">SportsOrganization</a></li>
                            <li><a href="../classes/SportsTeam.html">SportsTeam</a></li>
                            <li><a href="../classes/SpreadsheetDigitalDocument.html">SpreadsheetDigitalDocument</a></li>
                            <li><a href="../classes/StadiumOrArena.html">StadiumOrArena</a></li>
                            <li><a href="../classes/State.html">State</a></li>
                            <li><a href="../classes/SteeringPositionValue.html">SteeringPositionValue</a></li>
                            <li><a href="../classes/Store.html">Store</a></li>
                            <li><a href="../classes/StructuredValue.html">StructuredValue</a></li>
                            <li><a href="../classes/SubscribeAction.html">SubscribeAction</a></li>
                            <li><a href="../classes/SubwayStation.html">SubwayStation</a></li>
                            <li><a href="../classes/Suite.html">Suite</a></li>
                            <li><a href="../classes/SuspendAction.html">SuspendAction</a></li>
                            <li><a href="../classes/Synagogue.html">Synagogue</a></li>
                            <li><a href="../classes/Table.html">Table</a></li>
                            <li><a href="../classes/TakeAction.html">TakeAction</a></li>
                            <li><a href="../classes/TaskProfile.html">TaskProfile</a></li>
                            <li><a href="../classes/TattooParlor.html">TattooParlor</a></li>
                            <li><a href="../classes/Taxi.html">Taxi</a></li>
                            <li><a href="../classes/TaxiReservation.html">TaxiReservation</a></li>
                            <li><a href="../classes/TaxiService.html">TaxiService</a></li>
                            <li><a href="../classes/TaxiStand.html">TaxiStand</a></li>
                            <li><a href="../classes/TechArticle.html">TechArticle</a></li>
                            <li><a href="../classes/TelevisionChannel.html">TelevisionChannel</a></li>
                            <li><a href="../classes/TelevisionStation.html">TelevisionStation</a></li>
                            <li><a href="../classes/TennisComplex.html">TennisComplex</a></li>
                            <li><a href="../classes/TextDigitalDocument.html">TextDigitalDocument</a></li>
                            <li><a href="../classes/TheaterEvent.html">TheaterEvent</a></li>
                            <li><a href="../classes/TheaterGroup.html">TheaterGroup</a></li>
                            <li><a href="../classes/Thing.html">Thing</a></li>
                            <li><a href="../classes/Ticket.html">Ticket</a></li>
                            <li><a href="../classes/TieAction.html">TieAction</a></li>
                            <li><a href="../classes/TipAction.html">TipAction</a></li>
                            <li><a href="../classes/TireShop.html">TireShop</a></li>
                            <li><a href="../classes/TouristAttraction.html">TouristAttraction</a></li>
                            <li><a href="../classes/TouristInformationCenter.html">TouristInformationCenter</a></li>
                            <li><a href="../classes/ToyStore.html">ToyStore</a></li>
                            <li><a href="../classes/TrackAction.html">TrackAction</a></li>
                            <li><a href="../classes/TradeAction.html">TradeAction</a></li>
                            <li><a href="../classes/TrainReservation.html">TrainReservation</a></li>
                            <li><a href="../classes/TrainStation.html">TrainStation</a></li>
                            <li><a href="../classes/TrainTrip.html">TrainTrip</a></li>
                            <li><a href="../classes/TransferAction.html">TransferAction</a></li>
                            <li><a href="../classes/TravelAction.html">TravelAction</a></li>
                            <li><a href="../classes/TravelAgency.html">TravelAgency</a></li>
                            <li><a href="../classes/Triple.html">Triple</a></li>
                            <li><a href="../classes/TVClip.html">TVClip</a></li>
                            <li><a href="../classes/TVEpisode.html">TVEpisode</a></li>
                            <li><a href="../classes/TVSeason.html">TVSeason</a></li>
                            <li><a href="../classes/TVSeries.html">TVSeries</a></li>
                            <li><a href="../classes/TypeAndQuantityNode.html">TypeAndQuantityNode</a></li>
                            <li><a href="../classes/UnitPriceSpecification.html">UnitPriceSpecification</a></li>
                            <li><a href="../classes/UnRegisterAction.html">UnRegisterAction</a></li>
                            <li><a href="../classes/UpdateAction.html">UpdateAction</a></li>
                            <li><a href="../classes/UseAction.html">UseAction</a></li>
                            <li><a href="../classes/UserBlocks.html">UserBlocks</a></li>
                            <li><a href="../classes/UserCheckins.html">UserCheckins</a></li>
                            <li><a href="../classes/UserComments.html">UserComments</a></li>
                            <li><a href="../classes/UserDownloads.html">UserDownloads</a></li>
                            <li><a href="../classes/UserInteraction.html">UserInteraction</a></li>
                            <li><a href="../classes/UserLikes.html">UserLikes</a></li>
                            <li><a href="../classes/UserPageVisits.html">UserPageVisits</a></li>
                            <li><a href="../classes/UserPlays.html">UserPlays</a></li>
                            <li><a href="../classes/UserPlusOnes.html">UserPlusOnes</a></li>
                            <li><a href="../classes/UserTweets.html">UserTweets</a></li>
                            <li><a href="../classes/Vehicle.html">Vehicle</a></li>
                            <li><a href="../classes/VerificationServiceProfile.html">VerificationServiceProfile</a></li>
                            <li><a href="../classes/VideoGallery.html">VideoGallery</a></li>
                            <li><a href="../classes/VideoGame.html">VideoGame</a></li>
                            <li><a href="../classes/VideoGameClip.html">VideoGameClip</a></li>
                            <li><a href="../classes/VideoGameSeries.html">VideoGameSeries</a></li>
                            <li><a href="../classes/VideoObject.html">VideoObject</a></li>
                            <li><a href="../classes/ViewAction.html">ViewAction</a></li>
                            <li><a href="../classes/ViewManager.html">ViewManager</a></li>
                            <li><a href="../classes/VisualArtsEvent.html">VisualArtsEvent</a></li>
                            <li><a href="../classes/VisualArtwork.html">VisualArtwork</a></li>
                            <li><a href="../classes/Volcano.html">Volcano</a></li>
                            <li><a href="../classes/VoteAction.html">VoteAction</a></li>
                            <li><a href="../classes/WantAction.html">WantAction</a></li>
                            <li><a href="../classes/WarrantyPromise.html">WarrantyPromise</a></li>
                            <li><a href="../classes/WarrantyScope.html">WarrantyScope</a></li>
                            <li><a href="../classes/WatchAction.html">WatchAction</a></li>
                            <li><a href="../classes/Waterfall.html">Waterfall</a></li>
                            <li><a href="../classes/WearAction.html">WearAction</a></li>
                            <li><a href="../classes/WebApplication.html">WebApplication</a></li>
                            <li><a href="../classes/WebPage.html">WebPage</a></li>
                            <li><a href="../classes/WebPageElement.html">WebPageElement</a></li>
                            <li><a href="../classes/WebSite.html">WebSite</a></li>
                            <li><a href="../classes/WholesaleStore.html">WholesaleStore</a></li>
                            <li><a href="../classes/WinAction.html">WinAction</a></li>
                            <li><a href="../classes/Winery.html">Winery</a></li>
                            <li><a href="../classes/WPAdBlock.html">WPAdBlock</a></li>
                            <li><a href="../classes/WPFooter.html">WPFooter</a></li>
                            <li><a href="../classes/WPHeader.html">WPHeader</a></li>
                            <li><a href="../classes/WPSideBar.html">WPSideBar</a></li>
                            <li><a href="../classes/WriteAction.html">WriteAction</a></li>
                            <li><a href="../classes/XapiConfig.html">XapiConfig</a></li>
                            <li><a href="../classes/Zoo.html">Zoo</a></li>
                    </ul>
                </div>
            </div>
            
            
            
            
            
            <div class="version-info">
              Version: 1.0.0
            </div>
            
        </div>

        <div id="main" class="yui3-u">
            <div class="content"><div class="title">
  <h1 class="file-name">kbac.skyrepo/src/main/java/org/cassproject/kbac/SkyRepo.java</h1>
</div>

<pre class="code prettyprint linenums">
package org.cassproject.kbac;

import com.eduworks.ec.array.EcArray;
import com.eduworks.ec.array.EcObject;
import com.eduworks.ec.crypto.EcPk;
import com.eduworks.ec.crypto.EcPpk;
import com.eduworks.ec.crypto.EcRsaOaep;
import com.eduworks.schema.ebac.EbacEncryptedValue;
import com.eduworks.schema.ebac.EbacSignature;
import org.cassproject.schema.general.EcRemoteLinkedData;
import org.stjs.javascript.Array;
import org.stjs.javascript.Global;
import org.stjs.javascript.JSFunctionAdapter;
import org.stjs.javascript.JSObjectAdapter;
import org.stjs.javascript.annotation.GlobalScope;
import org.stjs.javascript.functions.*;

@GlobalScope
public class SkyRepo {
	public static boolean skyrepoDebug = false;

	public static String elasticEndpoint = &quot;http://localhost:9200&quot;;

	public static String owner() {
		return &quot;@owner&quot;;
	}

	public static String context() {
		return &quot;@context&quot;;
	}

	public static String type() {
		return &quot;@type&quot;;
	}

	public static String reader() {
		return &quot;@reader&quot;;
	}

	public static String id() {
		return &quot;@id&quot;;
	}

	public static String signature() {
		return &quot;@signature&quot;;
	}

	public static String getTypeFromObject(Object o) {
		String type = (String) JSObjectAdapter.$get(o, &quot;@type&quot;);
		String context = (String) JSObjectAdapter.$get(o, &quot;@context&quot;);
		if (type == null)
			return null;
		if (type.indexOf(&quot;http&quot;) != -1)
			return type;
		if (context == null)
			return type;
		if (context.endsWith(&quot;/&quot;))
			return context + type;
		else
			return context + &quot;/&quot; + type;
	}

	/**
	 * Validate the signature sheet. Blow up if it is incorrect.
	 *
	 * @return
	 */
	public static Function0&lt;Array&lt;EbacSignature&gt;&gt; signatureSheet = new Function0&lt;Array&lt;EbacSignature&gt;&gt;() {
		@Override
		public Array&lt;EbacSignature&gt; $invoke() {
			Array sigSheet = null;

			//Check cache.
			sigSheet = (Array) JSObjectAdapter.$get(this, &quot;signatureSheet&quot;);
			if (sigSheet != null) return sigSheet;
			sigSheet = new Array();

			//Pull signatures from POST.
			Object fromDatastream = JSFunctionAdapter.call(levr.fileFromDatastream, this, &quot;signatureSheet&quot;, null);
			String stringFromDatastream = levr.fileToString(fromDatastream);

			if (stringFromDatastream != null)
				try {
					sigSheet = sigSheet.concat((Array) Global.JSON.parse(stringFromDatastream));
				} catch (Exception ex) {
				}

			//Pull signature from headers.
			Object hdrs = JSFunctionAdapter.call(levr.headers, this);
			String camelcaseSignatureSheet = (String) JSObjectAdapter.$get(hdrs, &quot;signatureSheet&quot;);
			String lowercaseSignatureSheet = (String) JSObjectAdapter.$get(hdrs, &quot;signaturesheet&quot;);

			if (camelcaseSignatureSheet != null)
				sigSheet = sigSheet.concat(Global.JSON.parse(camelcaseSignatureSheet));
			if (lowercaseSignatureSheet != null)
				sigSheet = sigSheet.concat(Global.JSON.parse(lowercaseSignatureSheet));

			for (int i = 0; i &lt; sigSheet.$length(); i++) {
				EbacSignature signature = new EbacSignature();
				signature.copyFrom(sigSheet.$get(i));
				if (signature == null)
					levr.error(&quot;Missing Signature.&quot;, 496);

				if (getTypeFromObject(sigSheet.$get(i)) != &quot;http://schema.cassproject.org/kbac/0.2/TimeLimitedSignature&quot;)
					levr.error(&quot;Invalid Signature Version.&quot;, 422);

				if (signature.expiry == null)
					levr.error(&quot;Missing expiry date.&quot;, 422);

				Integer now = levr.date(null, null, true);
				if (signature.expiry &lt; now)
					levr.error(&quot;A Signature is Expired. My time is &quot; + now + &quot; and the signature expires at &quot; + signature.expiry, 419);

				String signBytes = signature.signature;
				signature.signature = null;

				if (!EcRsaOaep.verify(EcPk.fromPem(signature.owner), signature.toJson(), signBytes))
					levr.error(&quot;Invalid Signature Detected: &quot; + signature.toJson(), 451);
				sigSheet.$set(i, signature);
			}
			JSObjectAdapter.$put(this, &quot;signatureSheet&quot;, sigSheet);
			return sigSheet;
		}
	};
	//skyrepo.crypto.rs2 done.
	//skyrepo.security.rs2 start.

	public static Boolean isEncryptedType(EcRemoteLinkedData obj) {
		return obj.isAny(new EbacEncryptedValue().getTypes());
	}

	public static Function1&lt;Object, Object&gt; filterResults = new Function1&lt;Object, Object&gt;() {
		@Override
		public Object $invoke(Object o) {
			if (o == null)
				return o;
			if (EcArray.isArray(o)) {
				Array ary = (Array) o;
				for (int i = 0; i &lt; ary.$length(); i++) {
					if (ary.$get(i) == null)
						continue;
					Object result = null;
					try {
						result = JSFunctionAdapter.call(filterResults, this, ary.$get(i), null);
					} catch (RuntimeException ex) {
						if (ex.getMessage() != &quot;Signature Violation&quot;)
							throw ex;
					}
					if (result == null) {
						ary.splice(i, 1);
						i--;
					} else
						ary.$set(i, result);
				}
				return ary;
			} else if (EcObject.isObject(o)) {
				EcRemoteLinkedData rld = new EcRemoteLinkedData((String)JSObjectAdapter.$get(o,&quot;@context&quot;), (String)JSObjectAdapter.$get(o,&quot;@type&quot;));
				rld.reader = (Array&lt;String&gt;)JSObjectAdapter.$get(o,&quot;@reader&quot;);
				if ((rld.reader != null &amp;&amp; rld.reader.$length() != 0) || isEncryptedType(rld)) {
					Array&lt;EbacSignature&gt; signatures = JSFunctionAdapter.call(signatureSheet, this);
					boolean foundSignature = false;
					for (int i = 0; i &lt; signatures.$length(); i++)
						if (Global.JSON.stringify(o).indexOf(signatures.$get(i).owner) != -1) {
							foundSignature = true;
							break;
						}
					if (!foundSignature)
						throw new RuntimeException(&quot;Signature Violation&quot;);
				}
				Array&lt;String&gt; keys = EcObject.keys(o);
				for (int i = 0; i &lt; keys.$length(); i++) {
					String key = keys.$get(i);
					Object result = null;
					result = JSFunctionAdapter.call(filterResults, this, JSObjectAdapter.$get(o, key), null);
					if (result != null)
						JSObjectAdapter.$put(o, key, result);
					else
						JSObjectAdapter.$properties(o).$delete(key);
				}
				return o;
			} else
				return o;
		}
	};

	//skyrepo.security.rs2 done.
	//going to try to skip skyrepo.type.rs2
	public static String skyrepoUrlType(Object o) {
		return getTypeFromObject(o);
	}

	public static Function0&lt;Object&gt; elasticMapping = new Function0&lt;Object&gt;() {
		@Override
		public Object $invoke() {
			return levr.httpGet(elasticEndpoint + &quot;/_mapping&quot;);
		}
	};
	public static Function0&lt;Object&gt; elasticSettings = new Function0&lt;Object&gt;() {
		@Override
		public Object $invoke() {
			return levr.httpGet(elasticEndpoint + &quot;/_settings&quot;);
		}
	};

	//skyrepo.type.rs2 done.
	//skyrepo.db.rs2 begin.
	public static String inferTypeFromObj(Object o, String atType) {
		if (atType != null)
			return atType;
		String fullType = skyrepoUrlType(o);
		fullType = fullType.replace(&quot;http://&quot;, &quot;&quot;);
		fullType = fullType.replace(&quot;https://&quot;, &quot;&quot;);
		fullType = fullType.replace(&quot;/&quot;, &quot;.&quot;);
		fullType = fullType.replace(&quot;/&quot;, &quot;.&quot;);
		fullType = fullType.replace(&quot;/&quot;, &quot;.&quot;);
		return fullType;
	}

	private static String inferTypeWithoutObj(String atType) {
		if (atType != null)
			return atType;
		return &quot;_all&quot;;
	}

	private static String putUrl(Object o, String id, String version, String type) {
		String typeFromObj = inferTypeFromObj(o, type);

		String versionPart = null;
		if (version == null || version == &quot;&quot;) {
			versionPart = &quot;?refresh=true&quot;;
			version = &quot;&quot;;
		} else
			versionPart = &quot;?version=&quot; + version + &quot;&amp;version_type=external&amp;refresh=true&quot;;

		String url = elasticEndpoint;
		url += &quot;/&quot; + typeFromObj.toLowerCase();
		url += &quot;/&quot; + typeFromObj;
		url += &quot;/&quot; + levr.urlEncode(id) + versionPart;
		if (skyrepoDebug)
			Global.console.log(&quot;Put:&quot; + url);
		return url;
	}

	private static String putPermanentUrl(Object o, String id, String version, String type) {
		String versionPart = null;
		if (version == null || version == &quot;&quot;) {
			versionPart = &quot;?refresh=true&quot;;
			version = &quot;&quot;;
		} else
			versionPart = &quot;?version=&quot; + version + &quot;&amp;version_type=external&amp;refresh=true&quot;;

		String url = elasticEndpoint;
		url += &quot;/permanent&quot;;
		url += &quot;/permanent&quot;;
		url += &quot;/&quot; + levr.urlEncode(id) + &quot;.&quot; + version + versionPart;

		if (skyrepoDebug)
			Global.console.log(&quot;PutPermanent:&quot; + url);
		return url;
	}

	private static String putPermanentBaseUrl(Object o, String id, String version, String type) {
		String versionPart = null;
		if (version == null || version == &quot;&quot;) {
			versionPart = &quot;?refresh=true&quot;;
			version = &quot;&quot;;
		} else
			versionPart = &quot;?version=&quot; + version + &quot;&amp;version_type=external&amp;refresh=true&quot;;

		String url = elasticEndpoint;
		url += &quot;/permanent&quot;;
		url += &quot;/permanent&quot;;
		url += &quot;/&quot; + levr.urlEncode(id) + &quot;.&quot; + versionPart;

		if (skyrepoDebug)
			Global.console.log(&quot;PutPermanentBase:&quot; + url);
		return url;
	}

	private static String getUrl(String index, String id, String version, String type) {
		String typeFromObj = inferTypeWithoutObj(type);

		String versionPart = null;
		if (version == null || version == &quot;&quot;) {
			versionPart = &quot;&quot;;
			version = &quot;&quot;;
		} else
			versionPart = &quot;?version=&quot; + version + &quot;&amp;version_type=external&quot;;

		String url = elasticEndpoint;
		url += &quot;/&quot; + index;
		if (index == &quot;permanent&quot;)
			url += &quot;/permanent&quot;;
		else
			url += &quot;/&quot; + typeFromObj;
		if (index == &quot;permanent&quot;)
			url += &quot;/&quot; + levr.urlEncode(id) + &quot;.&quot; + version;
		else
			url += &quot;/&quot; + levr.urlEncode(id);

		if (skyrepoDebug)
			Global.console.log(&quot;Get:&quot; + url);
		return url;
	}

	private static String deleteUrl(String id, String version, String type) {
		String typeFromObj = inferTypeWithoutObj(type);

		String url = elasticEndpoint;
		url += &quot;/&quot; + typeFromObj.toLowerCase();
		url += &quot;/&quot; + typeFromObj;
		url += &quot;/&quot; + levr.urlEncode(id);
		url += &quot;?refresh=true&quot;;

		if (skyrepoDebug)
			Global.console.log(&quot;Delete:&quot; + url);
		return url;
	}

	private static String deletePermanentBaseUrl(String id, String version, String type) {

		String url = elasticEndpoint;
		url += &quot;/permanent&quot;;
		url += &quot;/permanent&quot;;
		url += &quot;/&quot; + levr.urlEncode(id) + &quot;.&quot;;

		if (skyrepoDebug)
			Global.console.log(&quot;DeletePermanentBase:&quot; + url);
		return url;
	}

	private static String skyrepoPutInternalTypeCheck(Boolean typeChecked, Object o, String type) {
		//Made private.
		if (typeChecked)
			return null;
		//skyRepoCheckType is used here. Trying to not include that in this version.
		return inferTypeFromObj(o, type);
	}

	public static Object flattenLangstrings(Object o) {
		if (EcObject.isObject(o)) {
			Array&lt;String&gt; keys = EcObject.keys(o);
			for (int i = 0; i &lt; keys.$length(); i++) {
				String key = keys.$get(i);
				if (key == &quot;@value&quot;)
					return JSObjectAdapter.$get(o, key);
				JSObjectAdapter.$put(o, key, flattenLangstrings(JSObjectAdapter.$get(o, key)));
			}
		} else if (EcArray.isArray(o)) {
			Array a = (Array) o;
			for (int i = 0; i &lt; a.$length(); i++) {
				a.$set(i, flattenLangstrings(a.$get(i)));
			}
		}
		return o;
	}

	public static String skyrepoPutInternalIndex(Object o, String id, String version, String type) {
		//skyrepoPutInternalTypeCheck(false,o,type);

		//TODO: Trim data that isn&#x27;t relevant before putting it in the index.
		//ex: Fields that are too long (base64)
		//ex: Crypto data
		//TODO: Normalize data that should be normalized.
		//ex: Public keys (@owner, @reader)
		String url = putUrl(o, id, version, type);
		o = flattenLangstrings(Global.JSON.parse(Global.JSON.stringify(o)));
		if (skyrepoDebug)
			Global.console.log(Global.JSON.stringify(o));
		return levr.httpPost(o, url, &quot;application/json&quot;, false);
	}

	public static boolean permanentCreated = false;

	public static String skyrepoPutInternalPermanent(Object o, String id, String version, String type) {
		if (permanentCreated != true) {
			Object mappings = new Object();
			Object permNoIndex = new Object();
			Object doc = new Object();
			JSObjectAdapter.$put(mappings, &quot;mappings&quot;, permNoIndex);
			JSObjectAdapter.$put(permNoIndex, &quot;permanent&quot;, doc);
			JSObjectAdapter.$put(doc, &quot;enabled&quot;, false);

			Object result = levr.httpPut(mappings, elasticEndpoint + &quot;/permanent&quot;, &quot;application/json&quot;);
			if (skyrepoDebug)
				Global.console.log(Global.JSON.stringify(result));
			//if ((Boolean) JSObjectAdapter.$get(result, &quot;acknowledged&quot;) == true)
//            JSObjectAdapter.$put(permanentCreated, type, true);
			permanentCreated = true;
		}
		Object data = new Object();
		JSObjectAdapter.$put(data, &quot;data&quot;, Global.JSON.stringify(o));
		String url = putPermanentBaseUrl(o, id, version, type);
		Object out = levr.httpPost(data, url, &quot;application/json&quot;, false);
		if (version != null &amp;&amp; version != &quot;&quot;) {
			url = putPermanentUrl(o, id, version, type);
			out = levr.httpPost(data, url, &quot;application/json&quot;, false);
		}
		if (skyrepoDebug)
			Global.console.log(Global.JSON.stringify(out));
		return Global.JSON.stringify(out);
	}

	public static void skyrepoPutInternal(Object o, String id, String version, String type) {
		Object obj = skyrepoPutInternalIndex(o, id, version, type);
		if (skyrepoDebug) Global.console.log(Global.JSON.stringify(obj));
		version = (String) JSObjectAdapter.$get(obj, &quot;_version&quot;);
		skyrepoPutInternalPermanent(o, id, version, type);
	}

	public static void skyRepoPutInternal(Object o, String id, String version, String type) {
		skyrepoPutInternal(o, id, version, type);
	}

	public static Object skyrepoGetIndexInternal(String index, String id, String version, String type) {
		if (skyrepoDebug) Global.console.log(&quot;Fetching from &quot; + index + &quot; : &quot; + type + &quot; / &quot; + id + &quot; / &quot; + version);
		Object result = levr.httpGet(getUrl(index, id, version, type));
		return result;
	}

	public static Function3&lt;String, String, String, Object&gt; skyrepoGetIndex = new Function3&lt;String, String, String, Object&gt;() {
		@Override
		public Object $invoke(String id, String version, String type) {
			if (type != null &amp;&amp; type != &quot;&quot;) {
				Object result = skyrepoGetIndexInternal(type.toLowerCase(), id, version, type);
				return result;
			} else {
				String microSearchUrl = elasticEndpoint + &quot;/_search?version&amp;q=_id:&quot; + id + &quot;&quot;;
				Object microSearch = levr.httpGet(microSearchUrl);
				if (skyrepoDebug) Global.console.log(microSearchUrl);
				if (microSearch == null)
					return null;
				Object hitshits = JSObjectAdapter.$get(microSearch, &quot;hits&quot;);
				if (hitshits == null)
					return null;
				Array&lt;Object&gt; hits = (Array&lt;Object&gt;) (Object) JSObjectAdapter.$get(hitshits, &quot;hits&quot;);
				if (hits.$length() == 0)
					return null;
				Object hit = hits.$get(0);
				return hit;
			}
		}
	};

	public static Object skyrepoGetPermanent(String id, String version, String type) {
		Object result = skyrepoGetIndexInternal(&quot;permanent&quot;, id, version, type);
		return result;

	}

	public static Function3&lt;String, String, String, Object&gt; skyrepoGetInternal = new Function3&lt;String, String, String, Object&gt;() {
		@Override
		public Object $invoke(String id, String version, String type) {
			Object versionRetrievalObject = null;

			//TODO: Validate inputs
			Object result = skyrepoGetPermanent(id, version, type);
			if (result == null)
				return null;
			if (JSObjectAdapter.$get(result, &quot;error&quot;) != null)
				return null;
			if ((Boolean) JSObjectAdapter.$get(result, &quot;found&quot;) == true)
				return Global.JSON.parse((String) JSObjectAdapter.$get(JSObjectAdapter.$get(result, &quot;_source&quot;), &quot;data&quot;));

			if (skyrepoDebug)
				Global.console.log(&quot;Failed to find &quot; + type + &quot;/&quot; + id + &quot;/&quot; + version + &quot; -- trying degraded form from search index.&quot;);

			if (versionRetrievalObject != null)
				result = versionRetrievalObject;
			else
				result = JSFunctionAdapter.call(skyrepoGetIndex, this, id, version, type, null);

			if (result == null)
				return null;
			if (JSObjectAdapter.$get(result, &quot;error&quot;) != null)
				return null;
			if ((Boolean) JSObjectAdapter.$get(result, &quot;found&quot;) == true || JSObjectAdapter.$get(result, &quot;_source&quot;) != null)
				return JSObjectAdapter.$get(result, &quot;_source&quot;);
			return null;
		}
	};

	public static Function1&lt;Object, Object&gt; skyrepoGet = new Function1&lt;Object, Object&gt;() {
		@Override
		public Object $invoke(Object parseParams) {
			if (parseParams == null &amp;&amp; EcObject.isObject(params.obj))
				parseParams = params.obj;
			if (parseParams == null) {
				parseParams = new Object();
				JSObjectAdapter.$put(parseParams, &quot;id&quot;, params.id);
				JSObjectAdapter.$put(parseParams, &quot;type&quot;, params.type);
				JSObjectAdapter.$put(parseParams, &quot;version&quot;, params.version);
			}
			if (skyrepoDebug) Global.console.log(Global.JSON.stringify(parseParams));
			if (skyrepoDebug) Global.console.log(Global.JSON.stringify(params.obj));
			String id = (String) JSObjectAdapter.$get(parseParams, &quot;id&quot;);
			String type = (String) JSObjectAdapter.$get(parseParams, &quot;type&quot;);
			String version = (String) JSObjectAdapter.$get(parseParams, &quot;version&quot;);
			return JSFunctionAdapter.call(skyrepoGetParsed, this, id, version, type, null);
		}
	};

	public static Function3&lt;String, String, String, Object&gt; skyrepoGetParsed = new Function3&lt;String, String, String, Object&gt;() {
		@Override
		public Object $invoke(String id, String version, String type) {
			Object result = JSFunctionAdapter.call(skyrepoGetInternal, this, id, version, type, null);
			if (result == null)
				return null;
			Object filtered = null;
			try {
				filtered = JSFunctionAdapter.call(filterResults, this, result, null);
			} catch (RuntimeException ex) {
				if (ex.getMessage() != &quot;Signature Violation&quot;)
					throw ex;
			}
			if (filtered == null)
				return null;
			if (EcObject.keys(filtered).$length() == 0)
				return null;
			return filtered;
		}
	};

	public static Function1&lt;Object, Object&gt; skyrepoPut = new Function1&lt;Object, Object&gt;() {
		@Override
		public Object $invoke(Object parseParams) {
			if (parseParams == null &amp;&amp; params.id != null &amp;&amp; params.id != &quot;&quot;) {
				parseParams = new Object();
				JSObjectAdapter.$put(parseParams, &quot;id&quot;, params.id);
				JSObjectAdapter.$put(parseParams, &quot;type&quot;, params.type);
				JSObjectAdapter.$put(parseParams, &quot;version&quot;, params.version);
				JSObjectAdapter.$put(parseParams, &quot;obj&quot;, params.obj);
			}
			if (skyrepoDebug) Global.console.log(&quot;put pp:&quot; + Global.JSON.stringify(parseParams));
			if (skyrepoDebug) Global.console.log(&quot;put obj:&quot; + Global.JSON.stringify(params.obj));
			if (parseParams == null &amp;&amp; EcObject.isObject(params.obj))
				parseParams = params.obj;
			Object obj = (String) JSObjectAdapter.$get(parseParams, &quot;obj&quot;);
			if (!EcObject.isObject(obj))
				obj = Global.JSON.parse((String) obj);
			String id = (String) JSObjectAdapter.$get(parseParams, &quot;id&quot;);
			String type = (String) JSObjectAdapter.$get(parseParams, &quot;type&quot;);
			String version = (String) JSObjectAdapter.$get(parseParams, &quot;version&quot;);
			return JSFunctionAdapter.call(skyrepoPutParsed, this, obj, id, version, type, null);
		}
	};

	public static Callback4&lt;Object, String, String, String&gt; skyrepoPutParsed = new Callback4&lt;Object, String, String, String&gt;() {
		@Override
		public void $invoke(Object o, String id, String version, String type) {
			if (o == null)
				return;
			JSFunctionAdapter.call(validateSignatures, this, id, version, type, &quot;Only an owner of an object may change it.&quot;);
//		EcRemoteLinkedData d = new EcRemoteLinkedData(null,null);
//		d.copyFrom(o);
//		if (!d.verify())
//			levr.error(&quot;Data does not validate. Only validatable data can be saved.&quot;,401);
			skyrepoPutInternal(o, id, version, type);
		}
	};

	private static Callback4&lt;String, String, String, String&gt; validateSignatures = new Callback4&lt;String, String, String, String&gt;() {
		@Override
		public void $invoke(String id, String version, String type, String errorMessage) {
			Object oldGet = JSFunctionAdapter.call(skyrepoGetParsed, this, id, version, type, null);
			if (oldGet == null)
				return;

			EcRemoteLinkedData oldObj = new EcRemoteLinkedData(null, null);
			oldObj.copyFrom(oldGet);
			if (oldObj.owner != null &amp;&amp; oldObj.owner.$length() &gt; 0) {
				//The old object had an owner. We need to make sure we have a signature sheet for that person.
				Array&lt;EbacSignature&gt; signatures = JSFunctionAdapter.call(signatureSheet, this);
				boolean success = false;
				for (int i = 0; i &lt; signatures.$length(); i++) {
					if (oldObj.hasOwner(EcPk.fromPem(signatures.$get(i).owner))) {
						success = true;
						break;
					}
				}
				//If success is true, we can go ahead. If false, we need to error.
				if (!success)
					levr.error(errorMessage, 401);
			}
		}
	};

	public static String skyrepoDeleteInternalIndex(String id, String version, String type) {
		String url = deleteUrl(id, version, type);
		return levr.httpDelete(url);
	}

	public static String skyrepoDeleteInternalPermanent(String id, String version, String type) {
		String url = deletePermanentBaseUrl(id, version, type);
		return levr.httpDelete(url);
	}

	public static Callback3&lt;String, String, String&gt; skyrepoDelete = new Callback3&lt;String, String, String&gt;() {
		@Override
		public void $invoke(String id, String version, String type) {
			JSFunctionAdapter.call(validateSignatures, this, id, version, type, &quot;Only an owner of an object may delete it.&quot;);
			skyrepoDeleteInternalIndex(id, version, type);
			skyrepoDeleteInternalPermanent(id, version, type);
		}
	};

	public static Function5&lt;String, Integer, Integer, String, String, Object&gt; searchObj = new Function5&lt;String, Integer, Integer, String, String, Object&gt;() {
		@Override
		public Object $invoke(String q, Integer start, Integer size, String sort, String track_scores) {
			Object s = new Object();
			if (start != null)
				JSObjectAdapter.$put(s, &quot;from&quot;, start);
			if (size != null)
				JSObjectAdapter.$put(s, &quot;size&quot;, size);
			if (sort != null)
				JSObjectAdapter.$put(s, &quot;sort&quot;, Global.JSON.parse(sort));

			JSObjectAdapter.$put(s, &quot;version&quot;, true);

			Object query = new Object();
			JSObjectAdapter.$put(s, &quot;query&quot;, query);
			Object bool = new Object();
			JSObjectAdapter.$put(query, &quot;bool&quot;, bool);
			Object must = new Object();
			JSObjectAdapter.$put(bool, &quot;must&quot;, must);
			Object query_string = new Object();
			JSObjectAdapter.$put(must, &quot;query_string&quot;, query_string);

			Array&lt;EbacSignature&gt; signatures = JSFunctionAdapter.call(signatureSheet, this);

			boolean concern = false;
			if (q.indexOf(&quot;*&quot;) != -1 &amp;&amp; q.trim() != &quot;*&quot;)
				concern = true;
			if (q.indexOf(&quot;@reader&quot;) != -1)
				concern = true;

			JSObjectAdapter.$put(query_string, &quot;query&quot;, q);

			if (signatures != null &amp;&amp; signatures.$length() &gt; 0) {
				String q2 = &quot;&quot;;
				for (int i = 0; i &lt; signatures.$length(); i++) {
					if (i &gt; 0)
						q2 += &quot; OR &quot;;
					q2 += &quot;\&quot;&quot; + signatures.$get(i).owner + &quot;\&quot;&quot;;
				}

				Object should = new Object();
				JSObjectAdapter.$put(bool, &quot;should&quot;, should);
				Object query_string2 = new Object();
				JSObjectAdapter.$put(should, &quot;query_string&quot;, query_string2);
				JSObjectAdapter.$put(query_string2, &quot;query&quot;, q2);
			}
			return s;
		}
	};

	public static String searchUrl(String urlRemainder) {
		String url = elasticEndpoint;
		if (urlRemainder != null &amp;&amp; urlRemainder != &quot;&quot; &amp;&amp; urlRemainder != &quot;/&quot;)
			url += urlRemainder.toLowerCase();
		else
			url += &quot;/*,-permanent&quot;;
		if (!url.endsWith(&quot;/&quot;))
			url += &quot;/&quot;;
		url += &quot;_search&quot;;
		if (skyrepoDebug) Global.console.log(url);
		return url;
	}

	public static Function6&lt;String, String, Integer, Integer, String, String, Array&gt; skyrepoSearch = new Function6&lt;String, String, Integer, Integer, String, String, Array&gt;() {
		@Override
		public Array $invoke(String q, String urlRemainder, Integer start, Integer size, String sort, String track_scores) {
			Object searchParameters =
					JSFunctionAdapter.call(searchObj, this, q, start, size, sort, track_scores);
			if (skyrepoDebug) Global.console.log(Global.JSON.stringify(searchParameters));
			Object results = levr.httpPost(searchParameters,
					searchUrl(urlRemainder),
					&quot;application/json&quot;,
					false
			);
			if (skyrepoDebug) Global.console.log(Global.JSON.stringify(results));
			if (JSObjectAdapter.$get(results, &quot;error&quot;) != null) {
				Array root_cause = (Array) JSObjectAdapter.$get(JSObjectAdapter.$get(results, &quot;error&quot;), &quot;root_cause&quot;);
				if (root_cause.$length() &gt; 0) {
					Object reasonObj = root_cause.$get(0);
					Object reason = JSObjectAdapter.$get(reasonObj, &quot;reason&quot;);
					if (reason != null)
						levr.error((String) reason, (Integer) JSObjectAdapter.$get(results, &quot;status&quot;));
				}
			}
			Array&lt;Object&gt; hits = (Array&lt;Object&gt;) JSObjectAdapter.$get(JSObjectAdapter.$get(results, &quot;hits&quot;), &quot;hits&quot;);
			Array&lt;Object&gt; searchResults = new Array&lt;Object&gt;();
			for (int i = 0; i &lt; hits.$length(); i++) {
				Object searchResult = hits.$get(i);
				String type = inferTypeFromObj(JSObjectAdapter.$get(searchResult, &quot;_source&quot;), null);
				String id = (String) JSObjectAdapter.$get(searchResult, &quot;_id&quot;);
				String version = (String) JSObjectAdapter.$get(searchResult, &quot;_version&quot;);
				String hit = &quot;data/&quot;;
				if (type != null)
					hit += type + &quot;/&quot;;
				hit += id + &quot;/&quot; + version;
				hits.$set(i, hit);
			}
			searchResults = JSFunctionAdapter.call((Array) levr.forEach, this, hits, &quot;obj&quot;, null, LevrResolverServlet.resolvableFunctions.get(&quot;endpointSingleGet&quot;), true, true, false, true, false);

			return searchResults;
		}
	};

	//skyrepo.db.rs2 is done.
	//skyrepo.rs2 start.

	public static Function1&lt;String, Object&gt; queryParse = new Function1&lt;String, Object&gt;() {
		@Override
		public Object $invoke(String urlRemainder) {
			if (urlRemainder == null &amp;&amp; params.urlRemainder != null)
				urlRemainder = params.urlRemainder;
			if (urlRemainder == null)
				levr.error(&quot;No resource specified.&quot;, 404);
			Array&lt;String&gt; split = (Array&lt;String&gt;) (Object) urlRemainder.split(&quot;/&quot;);
			Object result = new Object();
			if (split.$length() &gt;= 2)
				JSObjectAdapter.$put(result, &quot;id&quot;, split.$get(1));
			if (split.$length() &gt;= 3) {
				JSObjectAdapter.$put(result, &quot;type&quot;, split.$get(1));
				JSObjectAdapter.$put(result, &quot;id&quot;, split.$get(2));
			}
			if (split.$length() == 4)
				JSObjectAdapter.$put(result, &quot;version&quot;, split.$get(3));
			return result;
		}

	};

	public static Function2&lt;Object, Boolean, String&gt; tryFormatOutput = new Function2&lt;Object, Boolean, String&gt;() {
		@Override
		public String $invoke(Object o, Boolean expand) {
			Object hdrs = JSFunctionAdapter.call(levr.headers, this);
			String accept = (String) JSObjectAdapter.$get(hdrs, &quot;Accept&quot;);
			if (accept == null)
				accept = (String) JSObjectAdapter.$get(hdrs, &quot;accept&quot;);
			if (accept == null)
				if (expand == true)
					return Global.JSON.stringify(levr.jsonLdExpand(o));
				else
					return Global.JSON.stringify(o);
			if (accept == &quot;text/n4&quot; || accept == &quot;application/rdf+n4&quot;)
				return levr.jsonLdToNQuads(o);
			if (accept == &quot;application/rdf+json&quot;)
				return levr.jsonLdToRdfJson(o);
			if (accept == &quot;application/rdf+xml&quot;)
				return levr.jsonLdToRdfXml(o);
			if (accept == &quot;application/x-turtle&quot; || accept == &quot;text/turtle&quot;)
				return levr.jsonLdToTurtle(o);
			return Global.JSON.stringify(o);
		}
	};

	public static Function0 endpointData = new Function0() {
		@Override
		public Object $invoke() {
			String q = params.q;
			String urlRemainder = params.urlRemainder;
			Integer start = 0;
			if (params.start != null)
				start = Global.parseInt(params.start);
			Integer size = 50;
			if (params.size != null)
				size = Global.parseInt(params.size);
			String sort = params.sort;
			String track_scores = params.track_scores;
			Object searchParams = JSFunctionAdapter.call(levr.fileFromDatastream, this, &quot;searchParams&quot;, null);
			if (searchParams != null) {
				searchParams = levr.fileToString(searchParams);
				if (searchParams != null)
					searchParams = Global.JSON.parse((String) searchParams);
				if (JSObjectAdapter.$get(searchParams, &quot;q&quot;) != null)
					q = (String) JSObjectAdapter.$get(searchParams, &quot;q&quot;);
				if (JSObjectAdapter.$get(searchParams, &quot;start&quot;) != null)
					start = (Integer) JSObjectAdapter.$get(searchParams, &quot;start&quot;);
				if (JSObjectAdapter.$get(searchParams, &quot;size&quot;) != null)
					size = (Integer) JSObjectAdapter.$get(searchParams, &quot;size&quot;);
				if (JSObjectAdapter.$get(searchParams, &quot;sort&quot;) != null)
					sort = (String) JSObjectAdapter.$get(searchParams, &quot;sort&quot;);
				if (JSObjectAdapter.$get(searchParams, &quot;track_scores&quot;) != null)
					track_scores = (String) JSObjectAdapter.$get(searchParams, &quot;track_scores&quot;);
			}
			if (size == null) size = 50;
			if (start == null) start = 0;
			if (q != null) {
				JSFunctionAdapter.call(levr.beforeGet, this);
				return Global.JSON.stringify((Object) JSFunctionAdapter.call(skyrepoSearch, this, q, urlRemainder, start, size, sort, track_scores));
			}

			String methodType = params.methodType;
			Object parseParams = JSFunctionAdapter.call(queryParse, this, urlRemainder, null);
			String id = (String) JSObjectAdapter.$get(parseParams, &quot;id&quot;);
			String type = (String) JSObjectAdapter.$get(parseParams, &quot;type&quot;);
			String version = (String) JSObjectAdapter.$get(parseParams, &quot;version&quot;);
			if (methodType == &quot;DELETE&quot;) {
				JSFunctionAdapter.call(skyrepoDelete, this, id, version, type);
				JSFunctionAdapter.call(levr.afterSave, this);
				return null;
			} else if (methodType == &quot;POST&quot;) {
				Object o = Global.JSON.parse(levr.fileToString(JSFunctionAdapter.call(levr.fileFromDatastream, this, &quot;data&quot;, null)));
				if (o == null || o == &quot;&quot;) {
					JSFunctionAdapter.call(levr.beforeGet, this);
					o = JSFunctionAdapter.call(skyrepoGetParsed, this, id, version, type, null);
					if (o == null)
						levr.error(&quot;Object not found or you did not supply sufficient permissions to access the object.&quot;, 404);
					Boolean expand = params.expand != null;
					o = JSFunctionAdapter.call(tryFormatOutput, this, o, expand, null);
					return o;
				}
				JSFunctionAdapter.call(skyrepoPutParsed, this, o, id, version, type);
				JSFunctionAdapter.call(levr.afterSave, this);
				return null;
			} else if (methodType == &quot;GET&quot;) {
				JSFunctionAdapter.call(levr.beforeGet, this);
				Object o = JSFunctionAdapter.call(skyrepoGetParsed, this, id, version, type, null);
				if (o == null)
					levr.error(&quot;Object not found or you did not supply sufficient permissions to access the object.&quot;, 404);
				Boolean expand = params.expand != null;
				o = JSFunctionAdapter.call(tryFormatOutput, this, o, expand, null);
				return o;
			}
			return null;
		}
	};

	public static Function0 endpointMultiGet = new Function0() {
		@Override
		public Object $invoke() {
			Array ary = (Array) Global.JSON.parse(levr.fileToString(JSFunctionAdapter.call(levr.fileFromDatastream, this, &quot;data&quot;, null)));
			Object lookup = new Object();
			Object mget = new Object();
			Array docs = new Array();
			JSObjectAdapter.$put(mget,&quot;docs&quot;,docs);
			for (int i = 0;i &lt; ary.$length();i++)
			{
				String urlRemainder = (String) ary.$get(i);
				Object parseParams = JSFunctionAdapter.call(queryParse, this, urlRemainder, null);
				String id = (String) JSObjectAdapter.$get(parseParams, &quot;id&quot;);
				JSObjectAdapter.$put(lookup,id,urlRemainder);
				String type = (String) JSObjectAdapter.$get(parseParams, &quot;type&quot;);
				String version = (String) JSObjectAdapter.$get(parseParams, &quot;version&quot;);
				Object p = new Object();
				JSObjectAdapter.$put(p,&quot;_index&quot;,&quot;permanent&quot;);
				JSObjectAdapter.$put(p,&quot;_type&quot;,&quot;permanent&quot;);
				JSObjectAdapter.$put(p,&quot;_id&quot;,id+&quot;.&quot;+(version == null ? &quot;&quot; : version));
				docs.push(p);
			}
			Object response = levr.httpPost(mget, elasticEndpoint + &quot;/_mget&quot;, &quot;application/json&quot;, false);
			Array resultDocs = (Array)JSObjectAdapter.$get(response,&quot;docs&quot;);
			Array results = new Array();
			if (resultDocs != null) {
				for (int i = 0; i &lt; resultDocs.$length(); i++) {
					Object doc = resultDocs.$get(i);
					if ((Boolean) JSObjectAdapter.$get(doc, &quot;found&quot;)) {
						JSObjectAdapter.$properties(lookup).$delete(((String) JSObjectAdapter.$get(doc, &quot;_id&quot;)).substring(0, ((String) JSObjectAdapter.$get(doc, &quot;_id&quot;)).length() - 1));
						results.push(Global.JSON.parse((String) JSObjectAdapter.$get(JSObjectAdapter.$get(doc, &quot;_source&quot;), &quot;data&quot;)));
					}
				}
			}
			JSFunctionAdapter.call(filterResults, this, results, null);
			ary = EcObject.keys(lookup);
			for (int i = 0;i &lt; ary.$length();i++)
				ary.$set(i,JSObjectAdapter.$get(lookup,(String)ary.$get(i)));
			if (ary != null) {
				Array forEachResults = JSFunctionAdapter.call((Array) levr.forEach, this, ary, &quot;obj&quot;, null, LevrResolverServlet.resolvableFunctions.get(&quot;endpointSingleGet&quot;), true, true, false, true, false);
				for (int i = 0;i &lt; forEachResults.$length();i++)
					results.push(forEachResults.$get(i));
			}
			return Global.JSON.stringify(results);
		}
	};

	public static Function0 endpointSingleGet = new Function0() {
		@Override
		public Object $invoke() {
			String urlRemainder = (String) params.obj;
			Object parseParams = JSFunctionAdapter.call(queryParse, this, urlRemainder, null);
			String id = (String) JSObjectAdapter.$get(parseParams, &quot;id&quot;);
			String type = (String) JSObjectAdapter.$get(parseParams, &quot;type&quot;);
			String version = (String) JSObjectAdapter.$get(parseParams, &quot;version&quot;);
			Object o = JSFunctionAdapter.call(skyrepoGetParsed, this, id, version, type, null);
			if (o != null)
				return o;
			return null;
		}
	};

	public static Function0 skyRepoSearch = new Function0() {
		@Override
		public Object $invoke() {
			String q = params.q;
			String urlRemainder = params.urlRemainder;
			Integer start = 0;
			if (params.start != null)
				start = Global.parseInt(params.start);
			Integer size = 50;
			if (params.size != null)
				size = Global.parseInt(params.size);
			String sort = params.sort;
			String track_scores = params.track_scores;
			Object searchParams = Global.JSON.parse(levr.fileToString(JSFunctionAdapter.call(levr.fileFromDatastream, this, &quot;searchParams&quot;, null)));
			if (searchParams != null) {
				if (JSObjectAdapter.$get(searchParams, &quot;q&quot;) != null)
					q = (String) JSObjectAdapter.$get(searchParams, &quot;q&quot;);
				if (JSObjectAdapter.$get(searchParams, &quot;start&quot;) != null)
					start = (Integer) JSObjectAdapter.$get(searchParams, &quot;start&quot;);
				if (JSObjectAdapter.$get(searchParams, &quot;size&quot;) != null)
					size = (Integer) JSObjectAdapter.$get(searchParams, &quot;size&quot;);
				if (JSObjectAdapter.$get(searchParams, &quot;sort&quot;) != null)
					sort = (String) JSObjectAdapter.$get(searchParams, &quot;sort&quot;);
				if (JSObjectAdapter.$get(searchParams, &quot;track_scores&quot;) != null)
					track_scores = (String) JSObjectAdapter.$get(searchParams, &quot;track_scores&quot;);
			}
			String data = levr.fileToString(JSFunctionAdapter.call(levr.fileFromDatastream, this, &quot;data&quot;, null));
			if (data != null &amp;&amp; data != &quot;&quot;)
				q = data;
			if (q == null || q == &quot;&quot;)
				q = &quot;*&quot;;
			return Global.JSON.stringify((Object) JSFunctionAdapter.call(skyrepoSearch, this, q, urlRemainder, start, size, sort, track_scores));
		}
	};

	public static Function0 endpointSearch = new Function0() {
		@Override
		public Object $invoke() {
			return JSFunctionAdapter.call(skyRepoSearch, this);
		}
	};

	public static Function0 endpointAdmin = new Function0() {
		@Override
		public Object $invoke() {
			return Global.JSON.stringify(skyrepoAdminList());
		}
	};

	//skyrepo.rs2 done
	//skyrepo.admin.rs2 start
	public static String skyrepoAdminPpk() {
		if (!levr.fileExists(&quot;etc/skyAdmin.pem&quot;))
			levr.fileSave(EcPpk.fromPem(levr.rsaGenerate()).toPem(), &quot;etc/skyAdmin.pem&quot;);
		return levr.fileToString(levr.fileLoad(&quot;etc/skyAdmin.pem&quot;));
	}

	public static Array&lt;String&gt; skyrepoAdminList() {
		Array&lt;String&gt; array = new Array();
		array.push(skyrepoAdminPpk());
		return array;
	}

	static {
		levr.bindWebService(&quot;/data&quot;, endpointData);
		levr.bindWebService(&quot;/sky/repo/search&quot;, skyRepoSearch);
		levr.bindWebService(&quot;/sky/repo/multiGet&quot;, endpointMultiGet);
		levr.bindWebService(&quot;/sky/admin&quot;, endpointAdmin);
	}
}
</pre>

</div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
</body>
</html>
